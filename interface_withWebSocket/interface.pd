#N canvas 953 0 958 980 12;
#N canvas 414 125 809 677 drum 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-step 16 float 3;
#A 0 0 7 7 7 0 7 7 7 0 7 7 7 0 7 7 7;
#X coords 0 6 16 0 200 140 1 0 0;
#X restore 116 20 graph;
#X obj 100 227 array set \$0-step;
#N canvas 953 119 450 507 conter 0;
#X obj 63 58 inlet;
#X obj 65 104 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 63 140 t f b;
#X obj 156 59 inlet;
#X floatatom 162 97 5 0 0 0 bpm - - 0;
#X msg 149 131 tempo \$1 permin;
#X obj 83 187 metro 0.25 120 permin;
#X msg 104 225 0;
#X obj 70 227 f;
#X obj 129 257 % 16;
#X obj 225 246 + 1;
#X obj 134 337 outlet;
#X floatatom 51 272 5 0 0 0 - - - 0;
#X obj 20 147 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X msg 23 178 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 13 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 9 0 11 0;
#X connect 10 0 8 1;
#X connect 13 0 14 0;
#X connect 14 0 8 0;
#X restore 336 105 pd conter;
#X floatatom 394 67 5 1 200 0 - bpm - 0;
#X obj 336 51 tgl 15 0 empty drum_trigger empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 328 162 hradio 15 1 0 16 empty empty empty 0 -8 0 10 #fcfcfc
#000000 #000000 0;
#X floatatom 326 270 5 0 0 0 - - - 0;
#X obj 324 315 + 0.5;
#X obj 302 348 int;
#X obj 331 376 select 0 1 2 3 4 5 6;
#N canvas 191 269 450 361 kick 0;
#X obj 100 54 inlet;
#X obj 197 56 inlet;
#X obj 105 95 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 93 202 vline~;
#X obj 101 233 osc~;
#X obj 100 261 *~;
#X obj 197 114 f;
#X obj 199 210 vline~;
#X msg 106 151 150 \, 50 70 0;
#X obj 97 310 outlet~;
#X msg 213 181 \$1 1 0 \, 0 100 1;
#X connect 0 0 2 0;
#X connect 1 0 6 1;
#X connect 2 0 8 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 9 0;
#X connect 6 0 10 0;
#X connect 7 0 5 1;
#X connect 8 0 3 0;
#X connect 10 0 7 0;
#X restore 328 476 pd kick;
#N canvas 42 407 450 353 hihat 0;
#X obj 118 55 noise~;
#X obj 125 119 hip~ 20000;
#X obj 128 169 hip~ 10000;
#X obj 171 238 *~;
#X obj 234 16 inlet;
#X obj 317 26 inlet;
#X obj 246 73 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 346 145 t f b;
#X obj 389 174 random 10;
#X obj 396 225 / 20;
#X obj 375 269 + 0.7;
#X obj 373 302 *;
#X msg 247 171 \$1 \, 0 40 1;
#X obj 242 218 vline~;
#X obj 184 269 outlet~;
#X obj 303 86 f;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 14 0;
#X connect 4 0 6 0;
#X connect 5 0 15 1;
#X connect 6 0 15 0;
#X connect 7 0 11 0;
#X connect 7 1 8 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 3 1;
#X connect 15 0 7 0;
#X restore 562 482 pd hihat;
#N canvas 352 189 450 396 snare 0;
#X obj 143 50 inlet;
#X obj 226 60 inlet;
#X obj 212 120 f;
#X obj 58 58 noise~;
#X obj 45 170 hip~ 1000;
#X obj 130 205 osc~ 180;
#X obj 180 250 *~ 0.5;
#X obj 180 298 *~;
#X obj 156 340 outlet~;
#X obj 291 266 vline~;
#X obj 291 323 *~;
#X obj 44 119 lop~ 3000;
#X msg 269 218 \$1 1 0 \, 0 150 1;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 12 0;
#X connect 3 0 11 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 11 0 4 0;
#X connect 12 0 9 0;
#X restore 385 465 pd snare;
#X obj 393 508 +~;
#X obj 398 664 dac~;
#X floatatom 295 381 5 0 0 0 - - - 0;
#X floatatom 491 332 5 0 1 0 - - - 0;
#X floatatom 555 342 5 0 1 0 - - - 0;
#X obj 54 524 vstplugin~;
#X msg 111 490 open -e ValhallaVintageVerb;
#N canvas 0 25 450 300 message-out 0;
#X obj 20 17 inlet;
#X obj 20 63 s \$0-program-data;
#X obj 20 40 route program_data bank_data, f 39;
#X obj 135 63 s \$0-bank-data;
#X obj 278 135 print;
#X obj 278 114 spigot 1;
#X obj 337 114 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X text 358 113 print messages;
#X obj 251 86 s \$0-out;
#X obj 251 63 t a a;
#X msg 28 178 param_automated <index> <value>;
#X msg 28 204 latency <numsamples>;
#X msg 30 257 midi <bytes...>;
#X msg 29 284 sysex <bytes...>;
#X text 233 172 a parameter has been changed in the GUI (or by changing
a linked parameter)., f 40;
#X text 162 204 the plugin's internal processing latency has changed
;
#X text 139 257 a MIDI message sent by the plugin;
#X text 139 284 a SysEx message sent by the plugin;
#X text 28 153 events:;
#X text 163 222 NOTE: the value includes the additional latency caused
by multithreading (see the "-t" flag for "open"), f 55;
#X msg 29 337 crash;
#X text 312 85 goes to vstpresetbrowser;
#X text 23 87 see [pd preset];
#X text 83 338 the plugin subprocess has crashed.;
#X text 84 356 This is only sent for bridged or sandboxed plugins \,
because normal plugins would simply crash Pd., f 52;
#X msg 29 311 update;
#X text 87 312 multiple parameters have changed internally;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 2 1 3 0;
#X connect 2 2 9 0;
#X connect 5 0 4 0;
#X connect 6 0 5 1;
#X connect 9 0 8 0;
#X connect 9 1 5 0;
#X restore 131 585 pd message-out;
#X msg 20 419 param_list;
#X msg 127 423 param_set 0 \$1;
#X obj 103 377 hsl 128 15 0 1 0 0 empty drum_reverb_level empty -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 227 462 loadbang;
#X floatatom 613 349 5 0 1 0 - - - 0;
#X obj 538 261 hsl 128 15 0 2 0 0 empty drum_volume empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 56 303 hsl 128 15 0 1 0 0 empty drum_hicut empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X msg 81 348 param_set 13 \$1;
#X obj 35 161 inlet;
#X msg 86 275 0 7 7 1 7 7 1 7 7 1 7 1 0 1 1 1;
#X msg 364 185 1;
#N canvas 50 184 450 300 bass 0;
#X msg 114 68 220;
#X obj 119 116 osc~;
#X msg 249 69 221;
#X obj 244 124 osc~;
#X obj 131 166 *~ 0.5;
#X obj 202 206 dac~;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X restore 704 476 pd bass;
#X obj 325 228 array get \$0-step;
#X connect 2 0 5 0;
#X connect 3 0 2 1;
#X connect 4 0 2 0;
#X connect 5 0 33 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 15 0;
#X connect 9 0 10 0;
#X connect 9 1 12 0;
#X connect 9 2 11 0;
#X connect 9 3 10 0;
#X connect 9 3 12 0;
#X connect 9 4 10 0;
#X connect 9 4 11 0;
#X connect 9 5 10 0;
#X connect 9 5 12 0;
#X connect 9 5 11 0;
#X connect 9 6 10 0;
#X connect 9 6 12 0;
#X connect 9 6 11 0;
#X connect 10 0 13 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 18 0;
#X connect 13 0 18 1;
#X connect 15 0 9 0;
#X connect 16 0 10 1;
#X connect 17 0 12 1;
#X connect 18 0 14 0;
#X connect 18 0 14 1;
#X connect 18 2 20 0;
#X connect 19 0 18 0;
#X connect 21 0 18 0;
#X connect 22 0 18 0;
#X connect 23 0 22 0;
#X connect 24 0 19 0;
#X connect 25 0 11 1;
#X connect 26 0 16 0;
#X connect 26 0 17 0;
#X connect 26 0 25 0;
#X connect 27 0 28 0;
#X connect 28 0 18 0;
#X connect 29 0 1 0;
#X connect 30 0 1 0;
#X connect 31 0 33 1;
#X connect 33 0 6 0;
#X restore 26 232 pd drum;
#X obj 241 23 tgl 15 0 drum_trigger empty drum_trigger 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 206 176 hsl 128 15 0 1 0 0 drum_reverb_level empty drum_reverb_level
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 209 140 hsl 128 15 0 1 0 0 drum_volume empty drum_volume -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X floatatom 103 272 5 1 200 0 bpm - bpm 0;
#X obj 208 105 hsl 128 15 0 1 0 0 drum_hicut empty drum_hicut -2 -8
0 10 #fcfcfc #000000 #000000 0 1;
#X obj 29 68 loadbang;
#N canvas 151 76 917 700 drone 0;
#X obj 352 836 dac~;
#X obj 147 158 mtof;
#X obj 119 276 osc~;
#X obj 329 215 phasor~ 0.3;
#X obj 336 372 min~;
#X obj 230 470 *~;
#X obj 257 418 lop~ 40;
#X obj 548 177 mtof;
#X obj 589 235 osc~;
#X obj 737 391 min~;
#X obj 665 433 *~;
#X obj 792 424 lop~ 40;
#X obj 389 297 else/pink~;
#X obj 790 316 else/pink~;
#X obj 479 461 min~;
#X obj 346 534 delwrite~ tbt 200;
#X obj 745 506 delread~ tbt 200;
#X obj 15 392 delread~ tbt 120;
#X obj 644 253 phasor~ 0.2;
#X obj 915 370 lop~ 40;
#X obj 772 644 *~;
#X obj 757 729 *~ 0.8;
#X obj 401 778 *~ 0.1;
#X obj 335 776 *~ 0.1;
#X obj 1118 453 / 100;
#X obj 1022 208 tgl 15 0 empty drone_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 1178 219 tgl 15 0 empty drone_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 1274 463 / 300;
#X obj 555 435 vline~;
#X obj 601 402 \$1 300;
#X obj 1140 676 random 80;
#X obj 1059 519 tgl 15 0 empty drone_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 1155 763 * 10;
#X obj 279 178 phasor~;
#X obj 467 190 phasor~;
#X obj 449 339 *~;
#X obj 1103 366 random 80;
#X obj 1259 376 random 80;
#X obj 1059 273 metro 500;
#X obj 1215 283 metro 500;
#X obj 1096 583 metro 500;
#X obj 7 485 delwrite~ ddd 600;
#X obj 52 647 delread~ ddd 600;
#X obj 54 690 *~;
#X obj 489 40 random 4;
#X obj 488 66 select 0 1 2 3;
#X obj 773 63 tgl 15 0 empty drone_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 810 127 metro 3000;
#X obj 827 184 random 600;
#X obj 754 206 delay;
#X obj 250 10 random 3;
#X obj 249 36 select 0 1 2;
#X obj 634 729 vd~ ddd;
#X obj 940 738 vline~;
#X obj 1056 762 * 20;
#X obj 624 700 *~ 0.8;
#X obj 406 137 mtof;
#X obj 421 182 osc~;
#X msg 356 64 24, f 5;
#X obj 1078 125 else/pink~;
#X obj 1079 180 lop~ 50;
#X obj 539 476 vcf~ 10;
#X obj 939 102 else/pink~;
#X obj 940 157 lop~ 150;
#X obj 227 551 delread~ ddd;
#X obj 327 574 bp~ 50 2;
#X obj 600 502 vline~;
#X obj 646 469 \$1 300;
#X obj 550 528 vcf~ 10;
#X obj 1069 471 * 100;
#X obj 664 360 *~;
#X obj 400 43 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 347 145 spigot;
#X floatatom 63 776 5 0 1 0 - drone_sparkle - 0;
#X obj 29 809 *~;
#X floatatom 279 652 5 0 1 0 - drone_sawave - 0;
#X obj 233 653 *~;
#X floatatom 508 806 5 0 0.1 0 - drone_master - 0;
#X obj 346 626 *~;
#X floatatom 564 567 5 0 1 0 - drone_sparkle - 0;
#X obj 515 620 *~;
#X floatatom 673 644 5 0 1 2 drone_sawave drone_sawave - 0;
#X obj 623 640 *~;
#X obj 50 570 *~;
#X floatatom 647 580 5 0 1 0 - drone_sawave - 0;
#X obj 597 576 *~;
#X floatatom 644 803 5 0 1 0 - drone_sawave - 0;
#X obj 587 794 *~;
#X msg 325 101 65;
#X msg 692 127 73;
#X msg 473 94 65;
#X msg 527 101 68;
#X msg 580 117 72;
#X msg 644 114 65;
#X msg 72 75 77;
#X msg 126 82 80;
#X msg 222 84 84;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 2 0 14 0;
#X connect 2 0 33 0;
#X connect 2 0 70 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 5 0 78 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 7 0 34 0;
#X connect 8 0 10 0;
#X connect 8 0 70 1;
#X connect 9 0 11 0;
#X connect 10 0 85 0;
#X connect 11 0 10 1;
#X connect 12 0 4 1;
#X connect 13 0 9 1;
#X connect 14 0 61 0;
#X connect 16 0 20 0;
#X connect 16 0 82 0;
#X connect 17 0 83 0;
#X connect 18 0 9 0;
#X connect 18 0 14 1;
#X connect 18 0 19 0;
#X connect 19 0 20 1;
#X connect 20 0 21 0;
#X connect 21 0 15 0;
#X connect 22 0 0 1;
#X connect 23 0 0 0;
#X connect 24 0 18 0;
#X connect 25 0 38 0;
#X connect 26 0 39 0;
#X connect 27 0 3 0;
#X connect 28 0 61 1;
#X connect 29 0 28 0;
#X connect 30 0 32 0;
#X connect 30 0 54 0;
#X connect 31 0 40 0;
#X connect 32 0 29 0;
#X connect 33 0 35 0;
#X connect 34 0 35 1;
#X connect 35 0 41 0;
#X connect 35 0 61 0;
#X connect 36 0 24 0;
#X connect 36 0 69 0;
#X connect 37 0 27 0;
#X connect 38 0 36 0;
#X connect 39 0 37 0;
#X connect 40 0 30 0;
#X connect 42 0 43 0;
#X connect 43 0 74 0;
#X connect 44 0 45 0;
#X connect 45 0 90 0;
#X connect 45 1 91 0;
#X connect 45 2 92 0;
#X connect 45 3 93 0;
#X connect 45 4 89 0;
#X connect 46 0 47 0;
#X connect 47 0 48 0;
#X connect 47 0 44 0;
#X connect 47 0 49 0;
#X connect 48 0 47 1;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 94 0;
#X connect 51 1 95 0;
#X connect 51 2 96 0;
#X connect 51 3 88 0;
#X connect 52 0 55 0;
#X connect 52 0 87 0;
#X connect 53 0 52 0;
#X connect 54 0 53 0;
#X connect 55 0 15 0;
#X connect 55 0 41 0;
#X connect 56 0 57 0;
#X connect 57 0 15 0;
#X connect 57 0 41 0;
#X connect 58 0 72 0;
#X connect 59 0 60 0;
#X connect 60 0 61 0;
#X connect 61 0 15 0;
#X connect 61 0 43 1;
#X connect 62 0 63 0;
#X connect 63 0 55 0;
#X connect 64 0 65 0;
#X connect 65 0 76 0;
#X connect 66 0 68 1;
#X connect 67 0 66 0;
#X connect 68 0 41 0;
#X connect 68 0 80 0;
#X connect 69 0 67 0;
#X connect 70 0 68 0;
#X connect 71 0 72 1;
#X connect 72 0 56 0;
#X connect 73 0 74 1;
#X connect 74 0 23 0;
#X connect 74 0 22 0;
#X connect 75 0 76 1;
#X connect 76 0 23 0;
#X connect 76 0 22 0;
#X connect 77 0 22 1;
#X connect 77 0 23 1;
#X connect 78 0 23 0;
#X connect 79 0 80 1;
#X connect 80 0 22 0;
#X connect 80 0 23 0;
#X connect 81 0 82 1;
#X connect 81 0 83 1;
#X connect 82 0 22 0;
#X connect 83 0 23 0;
#X connect 84 0 85 1;
#X connect 84 0 78 1;
#X connect 85 0 22 0;
#X connect 86 0 87 1;
#X connect 87 0 22 0;
#X connect 87 0 23 0;
#X connect 88 0 1 0;
#X connect 89 0 7 0;
#X connect 90 0 7 0;
#X connect 91 0 7 0;
#X connect 92 0 7 0;
#X connect 93 0 7 0;
#X connect 94 0 1 0;
#X connect 95 0 1 0;
#X connect 96 0 1 0;
#X restore 112 232 pd drone;
#X obj 393 118 hsl 128 15 0 1 0 0 drone_master empty drone_master -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 367 51 tgl 15 0 drone_trigger empty drone_trigger 17 7 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 368 141 hsl 128 15 0 1 0 0 drone_sawave empty drone_sawave -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 363 176 hsl 128 15 0 1 0 0 drone_sparkle empty drone_sparkle
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 547 48 tgl 15 0 app_trigger empty app_trigger 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X floatatom 682 167 5 0 2000 0 app_release - app_release 0;
#X floatatom 803 168 5 0 3000 0 app_attack - app_attack 0;
#X obj 529 83 hsl 128 15 0 1 0 0 app_volume empty app_volume -2 -8
0 10 #fcfcfc #000000 #000000 0 1;
#X obj 680 85 loadbang;
#X msg 681 121 0;
#X obj 532 149 hsl 128 15 0 1 0 0 app_delaytime empty app_delaytime
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 551 189 hsl 128 15 0 1 0 0 app_wrap empty app_wrap -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 653 49 tgl 15 0 app_osc empty app_osc 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 787 83 loadbang;
#X msg 794 117 0;
#X obj 545 225 hsl 128 15 0 1 0 0 app_reverbmix empty app_reverbmix
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 125 132 loadbang;
#N canvas 343 29 1206 733 app 0;
#X obj 430 226 tgl 15 0 tr app_trigger empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 606 328 tempo 116 0.25;
#X obj 609 381 cycle 55 80 4;
#X obj 713 412 periodic 8 90 20;
#X obj 616 674 out~ 0.5;
#X floatatom 873 355 5 0 1000 0 - app_release - 0;
#X floatatom 921 385 5 0 3000 0 - app_attack - 0;
#X obj 803 447 hsl 128 15 0 1 0 0 empty app_volume empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 884 292 loadbang;
#X msg 882 326 0;
#X obj 581 494 vstplugin~;
#X obj 479 499 loadbang;
#X obj 251 360 hsl 128 15 0 1 0 0 empty app_delaymix empty -2 -8 0
10 #fcfcfc #000000 #000000 0 1;
#X msg 256 406 param_set 0 \$1;
#X obj 404 287 loadbang;
#X msg 363 527 open -e ValhallaSupermassive;
#X msg 230 458 param_list;
#X obj 419 339 hsl 128 15 0 1 0 0 empty app_delaytime empty -2 -8 0
10 #fcfcfc #000000 #000000 0 1;
#X msg 426 384 param_set 3 \$1;
#X obj 482 251 hsl 128 15 0 1 0 0 empty app_wrap empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X msg 487 296 param_set 4 \$1;
#X obj 695 295 % 2;
#X obj 582 221 select 0;
#X obj 704 267 / 128;
#X obj 1031 215 tgl 15 0 empty app_osc empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 996 254 osc~ 0.25;
#X obj 1103 228 metro 50;
#X obj 1074 309 snapshot~;
#X obj 1095 345 + 1;
#X obj 1064 369 / 2;
#X floatatom 1068 402 5 0 0 0 - - - 0;
#X obj 1053 453 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 962 300 loadbang;
#X msg 960 334 0;
#X obj 574 553 vstplugin~;
#X msg 743 547 open -e ValhallaVintageVerb;
#X obj 783 513 loadbang;
#X obj 940 491 hsl 128 15 0 1 0 0 empty app_reverbmix empty -2 -8 0
10 #fcfcfc #000000 #000000 0 1;
#X msg 945 537 param_set 0 \$1;
#X obj 939 410 loadbang;
#X msg 936 444 0;
#X msg 740 307 65 68 65 72;
#X msg 794 267 70 73 70 77;
#X obj 618 455 synth~ 2500;
#X msg 381 332 0;
#X obj 1122 404 + 150;
#X obj 1009 390 * 200;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 2 3;
#X connect 1 0 3 0;
#X connect 1 1 23 0;
#X connect 2 0 43 0;
#X connect 3 0 43 1;
#X connect 5 0 43 4;
#X connect 6 0 43 3;
#X connect 7 0 4 2;
#X connect 8 0 9 0;
#X connect 10 0 34 0;
#X connect 10 1 34 1;
#X connect 10 2 34 0;
#X connect 11 0 15 0;
#X connect 12 0 13 0;
#X connect 13 0 10 0;
#X connect 14 0 44 0;
#X connect 15 0 10 0;
#X connect 16 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 10 0;
#X connect 19 0 20 0;
#X connect 20 0 10 0;
#X connect 21 0 22 0;
#X connect 22 0 41 0;
#X connect 22 1 42 0;
#X connect 23 0 21 0;
#X connect 24 0 26 0;
#X connect 25 0 27 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 46 0;
#X connect 30 0 31 0;
#X connect 31 0 43 4;
#X connect 31 0 43 3;
#X connect 32 0 33 0;
#X connect 34 0 4 0;
#X connect 34 1 4 1;
#X connect 35 0 34 0;
#X connect 36 0 35 0;
#X connect 37 0 38 0;
#X connect 38 0 34 0;
#X connect 39 0 40 0;
#X connect 40 0 37 0;
#X connect 41 0 2 1;
#X connect 42 0 2 1;
#X connect 43 0 10 0;
#X connect 43 0 10 1;
#X connect 44 0 12 0;
#X connect 45 0 30 0;
#X connect 46 0 45 0;
#X restore 204 233 pd app;
#X obj 530 111 hsl 128 15 0 1 0 0 app_delaymix empty app_delaymix -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 952 38 tgl 15 0 fitter_trigger empty fitter_trigger 17 7 0 10
#fcfcfc #000000 #000000 0 1;
#N canvas 0 25 1068 599 stochastic 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array points 10 float 3;
#A 0 -0.56 -0.8 -0.26 -0.34 0.14 0.16 0.4 -0.24 0.46 0.96;
#X coords 0 1 10 -1 200 140 1 0 0;
#X restore 248 222 graph;
#X obj 150 46 tabread points;
#X floatatom 146 88 5 0 0 0 - - - 0;
#X obj 88 22 f;
#X obj 177 19 + 1;
#X obj 305 25 mod 10;
#X obj 20 101 metro 3;
#X obj 14 23 tgl 15 0 empty stochastic_trigger stochastic_trigger 17
7 0 10 #fcfcfc #000000 #000000 0 1;
#X floatatom 85 64 5 0 0 0 - - - 0;
#X obj 104 217 vline~;
#X msg 84 178 \$1 \$2;
#X obj 77 147 pack;
#X obj 106 275 *~ 0.1;
#X floatatom 169 235 5 0 1 0 - stochastic_volume - 0;
#X obj 107 337 dac~;
#X obj 324 69 random 100;
#X obj 414 95 / 50;
#X obj 424 137 - 1;
#X obj 320 168 tabwrite points;
#X obj 382 26 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 235 87 tgl 15 0 empty stochastic_ran empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 125 123 f;
#X obj 214 120 + 1;
#X obj 342 126 mod 10;
#X floatatom 272 55 5 0 0 0 - stochastic_explode - 0;
#X obj 290 92 metro 50;
#X obj 198 184 loadbang;
#X obj 197 244 loadbang;
#X msg 210 211 0;
#X msg 209 271 0;
#X obj 648 147 osc~ 0.25;
#X obj 726 202 snapshot~;
#X obj 747 238 + 1;
#X obj 716 262 / 2;
#X floatatom 720 295 5 0 0 0 - - - 0;
#X obj 705 346 hsl 128 15 0.5 1.5 0 0 empty empty empty -2 -8 0 10
#fcfcfc #000000 #000000 0 1;
#X obj 579 57 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 599 83 metro 50;
#X obj 756 280 + 0.5;
#X obj 782 137 osc~ 0.5;
#X floatatom 887 116 5 0 0 0 - stochastic_fre - 0;
#X connect 1 0 2 0;
#X connect 2 0 11 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 3 1;
#X connect 6 0 3 0;
#X connect 7 0 6 0;
#X connect 8 0 6 1;
#X connect 8 0 11 1;
#X connect 9 0 12 0;
#X connect 10 0 9 0;
#X connect 11 0 10 0;
#X connect 12 0 14 0;
#X connect 12 0 14 1;
#X connect 13 0 12 1;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 19 0 15 0;
#X connect 20 0 25 0;
#X connect 21 0 22 0;
#X connect 21 0 18 1;
#X connect 22 0 23 0;
#X connect 23 0 21 1;
#X connect 24 0 25 1;
#X connect 25 0 19 0;
#X connect 25 0 21 0;
#X connect 26 0 28 0;
#X connect 27 0 29 0;
#X connect 28 0 6 1;
#X connect 29 0 12 1;
#X connect 30 0 39 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 38 0;
#X connect 34 0 35 0;
#X connect 35 0 8 0;
#X connect 36 0 37 0;
#X connect 37 0 30 0;
#X connect 37 0 31 0;
#X connect 37 0 39 0;
#X connect 38 0 34 0;
#X connect 39 0 31 0;
#X connect 40 0 39 1;
#X restore 308 235 pd stochastic;
#X obj 408 290 tgl 15 0 stochastic_trigger empty stochastic_trigger
17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 380 340 hsl 128 15 0 0.1 0 0 stochastic_volume empty stochastic_volume
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 383 394 hsl 128 15 0 2 0 0 stochastic_fre empty stochastic_fre
-2 -8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 555 294 tgl 15 0 stochastic_ran empty stochastic_ran 17 7 0
10 #fcfcfc #000000 #000000 0 1;
#X msg 32 103 80;
#X msg 28 361 0 7 7 7 0 7 7 7 0 7 7 7 0 7 7 7;
#N canvas 221 25 754 587 bass 0;
#X obj 234 96 notein, f 25;
#X obj 234 367 mtof;
#X floatatom 234 436 5 0 0 0 - - - 0;
#X obj 234 399 / 1.01852;
#X obj 234 543 osc~;
#X obj 294 543 osc~;
#X obj 294 507 * 2;
#X floatatom 253 641 5 0 1 0 - - - 0;
#X obj 235 673 *~;
#X floatatom 313 641 5 0 1 0 - - - 0;
#X obj 295 673 *~;
#X floatatom 382 641 5 0 1 0 - - - 0;
#X obj 364 673 *~;
#X obj 781 18 loadbang;
#X obj 781 45 s init;
#X obj 253 584 r init;
#X obj 235 713 send~ to_dac;
#X obj 241 749 receive~ to_dac;
#X msg 858 47 \; pd dsp 1;
#X msg 313 615 0.05;
#X msg 382 614 0.05;
#X msg 858 97 \; pd dsp 0;
#X obj 319 265 sel 0;
#X msg 319 299 0;
#X msg 353 299 1;
#X obj 208 144 poly 1 1;
#X obj 319 398 s to_line;
#X msg 380 351 \$1 20;
#X msg 320 351 \$1 20;
#X obj 365 487 * 3;
#X obj 365 545 osc~;
#X floatatom 644 645 5 0 1 0 - - - 0;
#X obj 626 677 *~;
#X msg 644 618 0.05;
#X obj 627 549 osc~;
#X obj 627 491 / 2;
#X msg 253 615 0.2;
#X floatatom 462 641 5 0 1 0 - - - 0;
#X obj 444 673 *~;
#X msg 462 614 0.05;
#X obj 445 545 osc~;
#X obj 445 487 expr ($f1*3)*0.99;
#X text 52 31 deep \, dark bass;
#X floatatom 392 210 5 0 0 0 - - - 0;
#X floatatom 324 216 5 0 0 0 - - - 0;
#N canvas 953 119 450 507 conter 0;
#X obj 63 58 inlet;
#X obj 65 104 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 63 140 t f b;
#X obj 156 59 inlet;
#X floatatom 162 97 5 0 0 0 bpm - - 0;
#X msg 149 131 tempo \$1 permin;
#X obj 83 187 metro 0.25 120 permin;
#X msg 104 225 0;
#X obj 70 227 f;
#X obj 225 246 + 1;
#X obj 134 337 outlet;
#X floatatom 51 272 5 0 0 0 - - - 0;
#X obj 129 257 % 32;
#X obj 20 147 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X msg 23 178 0;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 13 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 8 1;
#X connect 8 0 11 0;
#X connect 8 0 12 0;
#X connect 9 0 8 1;
#X connect 12 0 9 0;
#X connect 12 0 10 0;
#X connect 13 0 14 0;
#X connect 14 0 8 0;
#X restore 140 122 pd conter;
#X floatatom 198 84 5 1 200 0 - bpm - 0;
#X obj 140 68 tgl 15 0 empty bass_trigger empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$1-step 32 float 3;
#A 0 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 29 29 29 29 29
29 29 29 29 29 3.47143 29 29 29 29 29;
#X coords 0 6 32 0 200 140 1 0 0;
#X restore 618 92 graph;
#X floatatom 90 434 5 0 0 0 - - - 0;
#X msg 181 259 1;
#X obj 75 479 + 0.5;
#X obj 53 512 int;
#X floatatom 46 545 5 0 0 0 - - - 0;
#X msg 579 350 29;
#X floatatom 63 246 5 0 0 0 - - - 0;
#X floatatom 631 433 5 0 0 0 - - - 0;
#X obj 65 178 hradio 16 1 0 32 empty empty empty 0 -8 0 10 #fcfcfc
#000000 #000000 0;
#X obj 37 294 % 2;
#X obj 213 965 *~;
#X obj 260 927 line~;
#X obj 243 1102 dac~;
#X obj 260 894 r to_line;
#X obj 372 1076 env~;
#X obj 372 1102 - 100;
#X obj 375 1150 vu 15 120 empty empty -1 -8 0 10 #404040 #000000 1
0;
#X obj 241 1007 clip~ -0.9 0.9;
#X obj 628 409 array get \$1-step;
#X obj 111 316 array get \$1-step;
#X msg 54 137 0;
#X obj 56 95 loadbang;
#X obj 420 334 array set \$1-step;
#X obj 270 48 / 2;
#X obj 770 281 inlet;
#X obj 179 1000 *~;
#X msg 133 969 0;
#X obj 114 932 loadbang;
#X floatatom 137 1005 5 0 5 0 - bass_volume - 0;
#X connect 0 0 25 0;
#X connect 0 1 25 1;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 2 0 6 0;
#X connect 2 0 29 0;
#X connect 2 0 35 0;
#X connect 2 0 41 0;
#X connect 3 0 2 0;
#X connect 4 0 8 0;
#X connect 5 0 10 0;
#X connect 6 0 5 0;
#X connect 7 0 8 1;
#X connect 8 0 16 0;
#X connect 9 0 10 1;
#X connect 10 0 16 0;
#X connect 11 0 12 1;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 13 0 18 0;
#X connect 15 0 36 0;
#X connect 15 0 19 0;
#X connect 15 0 20 0;
#X connect 15 0 39 0;
#X connect 15 0 33 0;
#X connect 17 0 59 0;
#X connect 19 0 9 0;
#X connect 20 0 11 0;
#X connect 22 0 23 0;
#X connect 22 1 24 0;
#X connect 23 0 28 0;
#X connect 24 0 27 0;
#X connect 25 1 1 0;
#X connect 25 1 44 0;
#X connect 25 2 22 0;
#X connect 25 2 43 0;
#X connect 27 0 26 0;
#X connect 28 0 26 0;
#X connect 29 0 30 0;
#X connect 30 0 12 0;
#X connect 31 0 32 1;
#X connect 32 0 16 0;
#X connect 33 0 31 0;
#X connect 34 0 32 0;
#X connect 35 0 34 0;
#X connect 36 0 7 0;
#X connect 37 0 38 1;
#X connect 38 0 16 0;
#X connect 39 0 37 0;
#X connect 40 0 38 0;
#X connect 41 0 40 0;
#X connect 45 0 57 0;
#X connect 46 0 72 0;
#X connect 47 0 45 0;
#X connect 49 0 51 0;
#X connect 50 0 67 1;
#X connect 50 0 68 1;
#X connect 51 0 52 0;
#X connect 52 0 53 0;
#X connect 53 0 1 0;
#X connect 54 0 67 0;
#X connect 55 0 58 0;
#X connect 57 0 55 0;
#X connect 57 0 68 0;
#X connect 58 0 22 0;
#X connect 59 0 74 0;
#X connect 60 0 59 1;
#X connect 62 0 60 0;
#X connect 63 0 64 0;
#X connect 64 0 65 0;
#X connect 66 0 61 0;
#X connect 66 0 61 1;
#X connect 66 0 63 0;
#X connect 67 0 56 0;
#X connect 68 0 49 0;
#X connect 69 0 57 0;
#X connect 70 0 69 0;
#X connect 72 0 45 1;
#X connect 74 0 66 0;
#X connect 76 0 75 0;
#X connect 77 0 74 1;
#X restore 789 359 pd bass;
#X obj 800 307 tgl 15 0 bass_trigger empty bass_trigger 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 884 778 out~ 0.5;
#X msg 953 300 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 29 29
29 29 29 29 29 29 29 29 29 29 29 29 29 29;
#X msg 948 340 22 25 22 22 22 25 22 22 22 25 22 22 22 25 22 28 29 32
29 29 29 32 29 29 29 32 29 29 29 32 29 28;
#N canvas 35 186 1382 622 fitter 0;
#X obj 440 214 readsf~ 2;
#X obj 430 279 *~;
#X obj 494 277 *~;
#X floatatom 549 247 5 0 1 0 - - - 0;
#X obj 618 700 dac~;
#X obj 527 202 tgl 15 0 empty fitter_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X msg 417 151 open Fitter.wav;
#X obj 413 100 loadbang;
#X obj 600 550 vstplugin~;
#X msg 662 530 open -e ValhallaVintageVerb;
#X obj 778 502 loadbang;
#X msg 912 523 param_set 0 \$1;
#X obj 640 154 loadbang;
#X obj 653 372 hsl 128 15 0 1 0 0 empty drum_reverb_level empty -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 648 298 loadbang;
#X obj 1031 215 tgl 15 0 empty fitter_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 1103 228 metro 50;
#X obj 1074 309 snapshot~;
#X obj 1095 345 + 1;
#X obj 1064 369 / 2;
#X floatatom 1068 402 5 0 0 0 - - - 0;
#X obj 1053 454 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X msg 659 340 0.25;
#X msg 637 190 0.35;
#X obj 266 388 tgl 15 0 empty fitter_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 338 401 metro 50;
#X obj 309 482 snapshot~;
#X obj 330 518 + 1;
#X obj 299 542 / 2;
#X floatatom 303 575 5 0 0 0 - - - 0;
#X obj 288 627 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 #fcfcfc
#000000 #000000 0 1;
#X floatatom 312 409 5 0 0 0 - - - 0;
#X obj 343 343 loadbang;
#X obj 425 447 loadbang;
#X msg 421 483 0;
#X obj 231 427 osc~ 0.5;
#N canvas 0 25 450 300 panner 0;
#X obj 127 46 inlet~ signal;
#X obj 313 49 inlet controll;
#X obj 313 72 / 4;
#X floatatom 313 95 5 0 0 0 - - - 0;
#X obj 313 116 + 0.75;
#X msg 313 139 \$1 10;
#X obj 313 162 line~;
#X obj 313 185 cos~;
#X obj 291 223 *~;
#X obj 334 252 outlet~ right;
#X msg 178 143 \$1 10;
#X obj 178 180 line~;
#X obj 178 203 cos~;
#X obj 117 242 *~;
#X obj 116 270 outlet~ left;
#X connect 0 0 13 0;
#X connect 0 0 8 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X restore 681 615 pd panner;
#X floatatom 776 590 5 0 1 0 - - - 0;
#X obj 996 254 osc~ 0.6;
#X msg 1068 228 0.6;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 1 0 8 0;
#X connect 3 0 1 1;
#X connect 3 0 2 1;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 6 0;
#X connect 8 0 36 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 11 0 8 0;
#X connect 12 0 23 0;
#X connect 13 0 11 0;
#X connect 14 0 22 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 37 0;
#X connect 22 0 13 0;
#X connect 23 0 3 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 31 0 35 1;
#X connect 32 0 31 0;
#X connect 33 0 34 0;
#X connect 34 0 29 0;
#X connect 35 0 26 0;
#X connect 36 0 4 0;
#X connect 36 1 4 1;
#X connect 37 0 36 1;
#X connect 38 0 17 0;
#X connect 39 0 38 1;
#X restore 18 518 pd fitter;
#X obj 756 402 hsl 128 15 0 1 0 0 bass_volume empty bass_volume -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X msg 162 165 0.2;
#N canvas 694 114 1122 660 hover 0;
#X obj 70 443 dac~;
#X floatatom 61 151 5 0 0 0 - - - 0;
#X text 99 151 MIDI note;
#X obj 93 204 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 350 290 dac~;
#X obj 381 213 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#N canvas 627 25 688 617 Charlie_example 0;
#X obj 115 310 expr~ atan($v1);
#X text 250 307 distort;
#X obj 110 426 freeverb~;
#X obj 137 374 loadbang;
#X obj 110 447 outlet~;
#X text 195 429 NOTE - if freeverb is missing (dotted outline) install
it via Help --> Get Externals \, then search for "freeverb";
#X obj 114 153 inlet~;
#X obj 115 288 *~ 1;
#X msg 127 400 roomsize 0.6 \, wet 0.333 \, dry 0.667;
#X obj 113 236 clone sawfest.cl 16;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 8 0;
#X connect 6 0 9 0;
#X connect 7 0 0 0;
#X connect 8 0 2 0;
#X connect 9 0 7 0;
#X restore 336 173 pd Charlie_example;
#N canvas 0 25 580 784 charlie_envelope 0;
#X obj 38 316 mtof~;
#X obj 38 294 vline~;
#X obj 75 106 + 1;
#X obj 89 96 f 0;
#X obj 75 64 metro 1900;
#X obj 35 383 outlet~;
#X obj 92 21 inlet;
#X obj 181 64 sel 1;
#X msg 181 85 0;
#X obj 92 42 t f f;
#X floatatom 309 32 5 0 0 0 bpm bpm - 0;
#X msg 442 151 tempo \$1 permin;
#X obj 230 123 metro 0.25 120 permin;
#X obj 75 148 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X floatatom 40 149 5 0 0 0 - - - 0;
#X obj 75 127 % 16;
#X floatatom 144 120 1 0 0 0 - hover_time - 0;
#X msg 149 302 80 \, 75 100 \, 72 230 230 \, 75 245 460 \, 84 10 705
\, 70 215 915 \, 82 20 1030 \, 82 230 1080 \, 78 115 1260 \, 78 50
1310 \, 82 50 1360 \, 82 215 1410 \, 78 50 1625 \, 82 50 1675 \, 82
290 1725;
#X msg 119 224 72 \, 75 100 \, 77 230 230 \, 80 245 460 \, 70 10 705
\, 70 215 915 \, 82 20 1030 \, 82 230 1080 \, 78 115 1260 \, 78 50
1310 \, 82 50 1360 \, 82 215 1410 \, 78 50 1625 \, 82 50 1675 \, 82
290 1725;
#X msg 76 178 80 10 \, 75 100 100 \, 80 190 320 \, 80 200 550 \, 76
10 750 \, 71 230 760 \, 75 220 980 \, 75 200 1180 \, 68 50 1390;
#X floatatom 385 24 5 0 4 0 - hover_mode - 0;
#X obj 396 105 / 1;
#X msg 349 86 2;
#X msg 277 57 12;
#X obj 254 41 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000;
#X obj 301 101 / 3;
#X floatatom 301 124 5 0 0 0 - - - 0;
#X msg 468 100 2;
#X msg 502 103 4;
#X msg 540 104 0.5;
#X msg 542 83 0.25;
#X obj 436 59 sel 0 1 2 3 4 5;
#X msg 545 128 0.125;
#X msg 119 515 80 10 \, 75 50 100 \, 80 50 50 \, 80 200 550 \, 76 10
750 \, 71 230 760 \, 75 220 980 \, 75 200 1180 \, 68 50 1390;
#X msg 124 393 72 \, 75 50 \, 72 50 230 \, 75 245 460 \, 84 10 705
\, 70 215 915 \, 82 20 1030 \, 82 230 1080 \, 78 115 1260 \, 78 50
1310 \, 82 50 1360 \, 82 215 1410 \, 78 50 1625 \, 82 50 1675 \, 82
290 1725;
#X connect 0 0 5 0;
#X connect 1 0 0 0;
#X connect 2 0 15 0;
#X connect 3 0 2 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 3 1;
#X connect 9 0 12 0;
#X connect 9 1 7 0;
#X connect 10 0 21 0;
#X connect 11 0 12 0;
#X connect 12 0 3 0;
#X connect 13 0 19 0;
#X connect 13 1 19 0;
#X connect 13 2 18 0;
#X connect 13 3 18 0;
#X connect 13 4 18 0;
#X connect 13 5 17 0;
#X connect 13 6 17 0;
#X connect 13 7 17 0;
#X connect 13 8 34 0;
#X connect 13 9 33 0;
#X connect 13 10 34 0;
#X connect 13 11 34 0;
#X connect 13 12 33 0;
#X connect 13 13 34 0;
#X connect 13 14 33 0;
#X connect 13 15 18 0;
#X connect 13 15 34 0;
#X connect 13 16 19 0;
#X connect 15 0 3 1;
#X connect 15 0 13 0;
#X connect 15 0 14 0;
#X connect 16 0 15 1;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X connect 19 0 1 0;
#X connect 20 0 31 0;
#X connect 21 0 11 0;
#X connect 22 0 25 1;
#X connect 23 0 25 0;
#X connect 24 0 22 0;
#X connect 25 0 26 0;
#X connect 27 0 21 1;
#X connect 28 0 21 1;
#X connect 29 0 21 1;
#X connect 30 0 21 1;
#X connect 31 1 27 0;
#X connect 31 2 28 0;
#X connect 31 3 29 0;
#X connect 31 4 30 0;
#X connect 31 5 32 0;
#X connect 32 0 21 1;
#X connect 33 0 1 0;
#X connect 34 0 1 0;
#X restore 337 149 pd charlie_envelope;
#X obj 337 127 tgl 15 0 empty hover_trigger empty 17 7 0 10 #fcfcfc
#000000 #000000 0 1;
#X obj 351 260 *~;
#X text 109 205 on;
#X obj 282 211 expr 1 - $f1;
#X obj 125 219 * 0.125;
#X obj 381 233 * 0.25;
#X obj 58 239 *~ 0.125;
#X obj 40 118 inlet;
#X obj 121 103 inlet;
#X obj 192 143 sel 0;
#X msg 192 177 0;
#X msg 226 177 1;
#X msg 253 229 \$1 20;
#X msg 193 229 \$1 20;
#X obj 102 308 *~;
#X obj 153 287 line~;
#X obj 6 412 int;
#X floatatom 20 373 5 0 0 0 - - - 0;
#X obj 222 542 line~;
#X obj -10 451 pack 0 0;
#X obj -30 380 t i b;
#X obj -37 413 / 127;
#X msg -18 510 0 \, \$1 \$2;
#X obj 64 412 delay;
#X obj 81 440 int;
#X floatatom 105 372 5 0 0 0 - - - 0;
#X floatatom 154 371 5 0 0 0 - - - 0;
#X obj 84 467 pack 0 0;
#X msg 75 508 \$2 \$1;
#X floatatom 234 372 5 0 0 0 - - - 0;
#X obj 205 465 int;
#X obj 207 373 bng 15 250 50 0 empty empty empty 17 7 0 10 #fcfcfc
#000000 #000000;
#X msg 204 509 0 \$1;
#X obj -56 337 select 0;
#X obj 29 341 *~ 0.125;
#X obj 433 261 *~;
#X floatatom 484 253 5 0 1 0 - hover_volume - 0;
#N canvas 625 25 688 617 HOOVER 0;
#X obj 30 46 inlet;
#X obj 28 181 sig~ 220;
#X floatatom 28 150 5 0 0 0 - - - 0;
#N canvas 0 25 450 300 sawtooth_wavetable 0;
#N canvas 0 22 450 278 (subpatch) 0;
#X array sawtooth 2051 float 3;
#A 0 -0.0510792 0 0.0510792 0.102007 0.152633 0.202808 0.252385 0.301221
0.349176 0.396115 0.441908 0.486432 0.529569 0.571209 0.611249 0.649596
0.686164 0.720876 0.753665 0.784473 0.813252 0.839965 0.864584 0.88709
0.907477 0.925748 0.941913 0.955996 0.968028 0.978049 0.986108 0.992264
0.996582 0.999134 1 0.999267 0.997025 0.993372 0.988409 0.982241 0.974975
0.966722 0.957593 0.947702 0.937161 0.926083 0.91458 0.902761 0.890734
0.878603 0.86647 0.85443 0.842577 0.830997 0.819773 0.808979 0.798685
0.788955 0.779845 0.771405 0.763676 0.756695 0.750488 0.745078 0.740478
0.736695 0.733729 0.731572 0.730213 0.729632 0.729804 0.730699 0.73228
0.734509 0.73734 0.740726 0.744615 0.748952 0.753682 0.758747 0.764086
0.769639 0.775346 0.781146 0.786979 0.792787 0.798514 0.804103 0.809502
0.814662 0.819537 0.824082 0.828258 0.83203 0.835367 0.838242 0.840631
0.842517 0.843888 0.844733 0.845049 0.844836 0.8441 0.842849 0.841097
0.838861 0.836162 0.833026 0.82948 0.825555 0.821284 0.816704 0.811852
0.806768 0.801493 0.796068 0.790536 0.784938 0.779318 0.773717 0.768175
0.762733 0.757429 0.752299 0.747378 0.742697 0.738286 0.734171 0.730377
0.726923 0.723827 0.721104 0.718763 0.716812 0.715255 0.714091 0.713319
0.712931 0.712918 0.713268 0.713964 0.714988 0.71632 0.717936 0.719811
0.721918 0.724227 0.726709 0.729332 0.732065 0.734874 0.737726 0.74059
0.743432 0.746221 0.748926 0.751517 0.753965 0.756244 0.758329 0.760195
0.761823 0.763194 0.764292 0.765102 0.765614 0.76582 0.765714 0.765293
0.764557 0.763508 0.762153 0.760499 0.758556 0.756338 0.753858 0.751135
0.748187 0.745035 0.741701 0.738208 0.734582 0.730849 0.727033 0.723162
0.719263 0.715363 0.711488 0.707664 0.703916 0.70027 0.696747 0.693371
0.690161 0.687137 0.684315 0.681711 0.679338 0.677207 0.675326 0.673702
0.672339 0.671239 0.670402 0.669825 0.669504 0.669431 0.669597 0.669991
0.6706 0.671409 0.672402 0.673562 0.674869 0.676303 0.677843 0.679467
0.681153 0.682879 0.684621 0.686357 0.688064 0.68972 0.691305 0.692796
0.694176 0.695424 0.696524 0.697461 0.69822 0.698788 0.699155 0.699312
0.699252 0.698969 0.698461 0.697726 0.696766 0.695582 0.69418 0.692566
0.690749 0.688738 0.686546 0.684185 0.681669 0.679015 0.67624 0.67336
0.670394 0.667363 0.664284 0.661178 0.658064 0.654963 0.651894 0.648876
0.645927 0.643065 0.640308 0.63767 0.635168 0.632813 0.630618 0.628594
0.62675 0.625092 0.623627 0.622359 0.62129 0.62042 0.619749 0.619272
0.618986 0.618885 0.61896 0.619202 0.619601 0.620145 0.620819 0.621612
0.622506 0.623486 0.624537 0.625639 0.626778 0.627933 0.629089 0.630228
0.631331 0.632383 0.633368 0.634269 0.635072 0.635763 0.636329 0.636759
0.637043 0.637171 0.637136 0.636932 0.636554 0.635999 0.635266 0.634355
0.633266 0.632005 0.630574 0.628981 0.627232 0.625336 0.623304 0.621146
0.618875 0.616504 0.614046 0.611516 0.608929 0.6063 0.603646 0.600982
0.598324 0.595687 0.593088 0.590541 0.58806 0.58566 0.583354 0.581153
0.57907 0.577113 0.575292 0.573615 0.572087 0.570715 0.569502 0.56845
0.567559 0.566831 0.566261 0.565848 0.565586 0.56547 0.565492 0.565644
0.565917 0.5663 0.566781 0.567349 0.567991 0.568694 0.569442 0.570223
0.571022 0.571825 0.572616 0.573382 0.574108 0.574782 0.57539 0.575919
0.576358 0.576697 0.576925 0.577033 0.577014 0.57686 0.576568 0.576132
0.575549 0.574818 0.573938 0.572911 0.571738 0.570424 0.568972 0.567389
0.565682 0.563859 0.561928 0.5599 0.557786 0.555597 0.553344 0.551041
0.5487 0.546334 0.543958 0.541583 0.539224 0.536894 0.534605 0.532369
0.530199 0.528105 0.526099 0.52419 0.522386 0.520696 0.519127 0.517683
0.51637 0.515191 0.514149 0.513244 0.512477 0.511845 0.511348 0.51098
0.510737 0.510613 0.510602 0.510695 0.510885 0.51116 0.511512 0.51193
0.512401 0.512915 0.513458 0.51402 0.514587 0.515148 0.515688 0.516198
0.516665 0.517077 0.517424 0.517695 0.517881 0.517974 0.517966 0.517848
0.517617 0.517266 0.516791 0.516191 0.515462 0.514605 0.51362 0.512509
0.511275 0.50992 0.508451 0.506873 0.505193 0.503418 0.501557 0.499619
0.497613 0.495551 0.493442 0.491298 0.489131 0.486951 0.484771 0.482603
0.480457 0.478344 0.476277 0.474265 0.472317 0.470445 0.468655 0.466956
0.465356 0.463859 0.462473 0.4612 0.460044 0.459007 0.458091 0.457295
0.45662 0.456062 0.455618 0.455286 0.45506 0.454934 0.454901 0.454954
0.455085 0.455285 0.455544 0.455853 0.456201 0.456578 0.456973 0.457375
0.457773 0.458156 0.458513 0.458834 0.459108 0.459327 0.459481 0.459561
0.459559 0.459469 0.459283 0.458997 0.458606 0.458105 0.457493 0.456768
0.455929 0.454975 0.453909 0.452733 0.451449 0.450062 0.448577 0.447
0.445337 0.443595 0.441784 0.43991 0.437984 0.436015 0.434013 0.431988
0.42995 0.427909 0.425877 0.423863 0.421877 0.41993 0.418031 0.416188
0.41441 0.412706 0.411082 0.409544 0.4081 0.406753 0.405507 0.404366
0.403332 0.402407 0.401589 0.40088 0.400278 0.399779 0.39938 0.399078
0.398868 0.398742 0.398696 0.398721 0.398809 0.398953 0.399144 0.399372
0.399627 0.3999 0.400182 0.400461 0.400729 0.400976 0.401191 0.401366
0.401492 0.40156 0.401564 0.401494 0.401345 0.401111 0.400786 0.400367
0.399849 0.39923 0.398508 0.397683 0.396754 0.395722 0.39459 0.393359
0.392034 0.390619 0.389118 0.387538 0.385886 0.384168 0.382393 0.380568
0.378702 0.376804 0.374884 0.37295 0.371013 0.369081 0.367164 0.365271
0.363412 0.361595 0.359828 0.35812 0.356478 0.354907 0.353416 0.352008
0.350689 0.349462 0.348331 0.347298 0.346364 0.345529 0.344793 0.344156
0.343614 0.343166 0.342806 0.342532 0.342337 0.342215 0.34216 0.342166
0.342223 0.342325 0.342463 0.342627 0.34281 0.343002 0.343194 0.343376
0.343541 0.343678 0.34378 0.343838 0.343844 0.343791 0.343672 0.34348
0.343211 0.342859 0.34242 0.341891 0.341268 0.340551 0.339738 0.338829
0.337824 0.336726 0.335537 0.334259 0.332897 0.331455 0.329939 0.328354
0.326708 0.325006 0.323257 0.321469 0.31965 0.317808 0.315953 0.314092
0.312235 0.31039 0.308567 0.306773 0.305017 0.303306 0.301649 0.300051
0.29852 0.297061 0.29568 0.29438 0.293166 0.29204 0.291006 0.290063
0.289214 0.288457 0.287792 0.287217 0.286729 0.286325 0.286001 0.285752
0.285573 0.285458 0.285399 0.285391 0.285426 0.285496 0.285592 0.285707
0.285832 0.285958 0.286077 0.28618 0.28626 0.286307 0.286315 0.286275
0.286181 0.286026 0.285804 0.285511 0.28514 0.284688 0.284152 0.283528
0.282816 0.282014 0.281122 0.28014 0.279069 0.277912 0.276672 0.275351
0.273955 0.272487 0.270955 0.269363 0.267718 0.266027 0.264297 0.262538
0.260755 0.258958 0.257154 0.255353 0.253562 0.25179 0.250044 0.248333
0.246663 0.245043 0.243478 0.241974 0.240538 0.239175 0.237888 0.236681
0.235558 0.23452 0.23357 0.232707 0.231932 0.231245 0.230642 0.230123
0.229684 0.229322 0.229031 0.228808 0.228646 0.228539 0.228481 0.228465
0.228483 0.228528 0.228592 0.228667 0.228744 0.228816 0.228874 0.228911
0.228919 0.228891 0.228818 0.228695 0.228515 0.228273 0.227962 0.227579
0.22712 0.226581 0.225959 0.225253 0.224461 0.223583 0.22262 0.221572
0.220441 0.21923 0.217942 0.216581 0.215152 0.213659 0.212108 0.210506
0.208859 0.207174 0.205459 0.20372 0.201967 0.200206 0.198445 0.196694
0.194958 0.193247 0.191568 0.189927 0.188332 0.186789 0.185305 0.183884
0.182531 0.181251 0.180048 0.178924 0.177882 0.176923 0.176048 0.175258
0.174551 0.173927 0.173383 0.172916 0.172523 0.172201 0.171943 0.171745
0.171602 0.171507 0.171452 0.171432 0.171439 0.171466 0.171504 0.171546
0.171584 0.17161 0.171618 0.171598 0.171544 0.171449 0.171307 0.171111
0.170855 0.170535 0.170146 0.169683 0.169144 0.168526 0.167827 0.167045
0.166181 0.165233 0.164204 0.163095 0.161907 0.160645 0.159312 0.157911
0.156449 0.15493 0.15336 0.151745 0.150093 0.14841 0.146703 0.144981
0.14325 0.141518 0.139794 0.138084 0.136396 0.134738 0.133116 0.131538
0.130008 0.128535 0.127122 0.125774 0.124497 0.123293 0.122166 0.121118
0.12015 0.119264 0.11846 0.117737 0.117094 0.11653 0.116041 0.115625
0.115277 0.114994 0.11477 0.114599 0.114476 0.114394 0.114347 0.114327
0.114327 0.11434 0.114358 0.114374 0.114379 0.114367 0.11433 0.11426
0.114152 0.113999 0.113794 0.113532 0.113208 0.112818 0.112356 0.111821
0.111208 0.110517 0.109746 0.108893 0.10796 0.106947 0.105855 0.104687
0.103445 0.102132 0.100754 0.0993141 0.0978178 0.0962708 0.0946793
0.0930497 0.0913889 0.0897038 0.088002 0.0862906 0.0845774 0.0828699
0.0811754 0.0795014 0.0778551 0.0762434 0.0746728 0.0731498 0.0716802
0.0702692 0.0689219 0.0676424 0.0664345 0.0653014 0.0642453 0.0632681
0.0623709 0.061554 0.060817 0.060159 0.0595782 0.0590722 0.058638 0.0582718
0.0579695 0.0577261 0.0575364 0.0573945 0.0572942 0.057229 0.0571919
0.0571757 0.0571733 0.0571771 0.0571797 0.0571735 0.0571513 0.0571057
0.0570297 0.0569166 0.0567598 0.0565534 0.0562916 0.0559694 0.0555821
0.0551258 0.0545968 0.0539925 0.0533107 0.0525499 0.0517094 0.050789
0.0497894 0.0487119 0.0475586 0.0463319 0.0450354 0.0436727 0.0422485
0.0407678 0.039236 0.0376591 0.0360435 0.0343959 0.0327232 0.0310326
0.0293314 0.0276271 0.0259272 0.0242391 0.02257 0.0209271 0.0193173
0.0177473 0.0162234;
#A 1000 0.0147513 0.0133366 0.0119842 0.0106983 0.0094829 0.00834105
0.00727532 0.00628756 0.00537897 0.00455003 0.00380054 0.0031296 0.00253562
0.00201634 0.00156885 0.00118961 0.000874484 0.000618774 0.000417266
0.000264269 0.00015367 7.89861e-05 3.34193e-05 9.91744e-06 1.2358e-06
-8.21078e-12 -1.22937e-06 -9.89174e-06 -3.33616e-05 -7.88841e-05 -0.000153512
-0.000264042 -0.000416961 -0.000618381 -0.000873992 -0.00118901 -0.00156814
-0.00201551 -0.00253466 -0.00312851 -0.00379932 -0.00454867 -0.00537747
-0.00628592 -0.00727354 -0.00833914 -0.00948086 -0.0106962 -0.0119819
-0.0133342 -0.0147488 -0.0162208 -0.0177447 -0.0193146 -0.0209243 -0.0225671
-0.0242361 -0.0259243 -0.0276242 -0.0293285 -0.0310296 -0.0327203 -0.034393
-0.0360407 -0.0376563 -0.0392333 -0.0407652 -0.042246 -0.0436703 -0.0450331
-0.0463298 -0.0475565 -0.04871 -0.0497876 -0.0507873 -0.0517078 -0.0525485
-0.0533094 -0.0539914 -0.0545958 -0.0551249 -0.0555814 -0.0559688 -0.0562911
-0.056553 -0.0567595 -0.0569164 -0.0570296 -0.0571056 -0.0571512 -0.0571735
-0.0571797 -0.0571771 -0.0571733 -0.0571757 -0.0571918 -0.0572289 -0.0572941
-0.0573943 -0.0575361 -0.0577258 -0.057969 -0.0582713 -0.0586373 -0.0590714
-0.0595773 -0.060158 -0.0608158 -0.0615526 -0.0623694 -0.0632665 -0.0642436
-0.0652995 -0.0664325 -0.0676402 -0.0689196 -0.0702668 -0.0716777 -0.0731473
-0.0746702 -0.0762406 -0.0778523 -0.0794985 -0.0811725 -0.0828669 -0.0845745
-0.0862877 -0.087999 -0.0897009 -0.091386 -0.0930469 -0.0946765 -0.0962681
-0.0978151 -0.0993115 -0.100752 -0.10213 -0.103442 -0.104685 -0.105853
-0.106945 -0.107959 -0.108892 -0.109744 -0.110516 -0.111207 -0.11182
-0.112355 -0.112817 -0.113208 -0.113532 -0.113794 -0.113999 -0.114152
-0.11426 -0.114329 -0.114367 -0.114379 -0.114374 -0.114358 -0.11434
-0.114327 -0.114327 -0.114347 -0.114394 -0.114476 -0.114599 -0.114769
-0.114994 -0.115277 -0.115624 -0.11604 -0.116529 -0.117093 -0.117736
-0.118459 -0.119263 -0.120149 -0.121116 -0.122164 -0.123291 -0.124495
-0.125772 -0.127119 -0.128532 -0.130006 -0.131535 -0.133113 -0.134735
-0.136393 -0.138081 -0.139791 -0.141515 -0.143247 -0.144978 -0.1467
-0.148407 -0.15009 -0.151742 -0.153357 -0.154927 -0.156446 -0.157909
-0.159309 -0.160643 -0.161905 -0.163093 -0.164202 -0.165231 -0.166179
-0.167044 -0.167826 -0.168525 -0.169143 -0.169682 -0.170145 -0.170534
-0.170855 -0.17111 -0.171307 -0.171449 -0.171544 -0.171598 -0.171618
-0.17161 -0.171584 -0.171546 -0.171504 -0.171466 -0.171439 -0.171432
-0.171452 -0.171506 -0.171602 -0.171745 -0.171943 -0.1722 -0.172523
-0.172915 -0.173382 -0.173926 -0.17455 -0.175257 -0.176047 -0.176921
-0.17788 -0.178922 -0.180046 -0.181249 -0.182529 -0.183881 -0.185302
-0.186787 -0.188329 -0.189924 -0.191565 -0.193244 -0.194955 -0.196691
-0.198442 -0.200203 -0.201964 -0.203717 -0.205456 -0.207171 -0.208856
-0.210503 -0.212106 -0.213656 -0.215149 -0.216579 -0.21794 -0.219228
-0.220439 -0.22157 -0.222618 -0.223581 -0.224459 -0.225251 -0.225958
-0.22658 -0.227119 -0.227579 -0.227962 -0.228272 -0.228515 -0.228695
-0.228818 -0.228891 -0.228919 -0.228911 -0.228874 -0.228816 -0.228744
-0.228667 -0.228592 -0.228528 -0.228483 -0.228465 -0.228481 -0.228539
-0.228645 -0.228807 -0.229031 -0.229321 -0.229684 -0.230122 -0.230641
-0.231243 -0.231931 -0.232706 -0.233568 -0.234518 -0.235556 -0.236679
-0.237885 -0.239172 -0.240536 -0.241972 -0.243475 -0.24504 -0.24666
-0.24833 -0.250041 -0.251787 -0.253559 -0.25535 -0.257151 -0.258955
-0.260752 -0.262534 -0.264294 -0.266024 -0.267715 -0.26936 -0.270952
-0.272485 -0.273952 -0.275349 -0.27667 -0.27791 -0.279067 -0.280138
-0.28112 -0.282013 -0.282815 -0.283527 -0.284151 -0.284687 -0.285139
-0.28551 -0.285804 -0.286026 -0.286181 -0.286275 -0.286315 -0.286307
-0.28626 -0.28618 -0.286077 -0.285958 -0.285832 -0.285707 -0.285592
-0.285496 -0.285426 -0.285391 -0.285399 -0.285457 -0.285573 -0.285752
-0.286 -0.286324 -0.286728 -0.287216 -0.287791 -0.288456 -0.289212
-0.290062 -0.291004 -0.292039 -0.293164 -0.294378 -0.295677 -0.297059
-0.298518 -0.300049 -0.301646 -0.303303 -0.305014 -0.30677 -0.308563
-0.310387 -0.312231 -0.314088 -0.315949 -0.317805 -0.319647 -0.321466
-0.323254 -0.325003 -0.326705 -0.328351 -0.329936 -0.331453 -0.332895
-0.334257 -0.335535 -0.336724 -0.337823 -0.338827 -0.339736 -0.34055
-0.341267 -0.34189 -0.342419 -0.342858 -0.34321 -0.34348 -0.343671
-0.34379 -0.343844 -0.343838 -0.34378 -0.343678 -0.343541 -0.343377
-0.343194 -0.343002 -0.34281 -0.342628 -0.342463 -0.342325 -0.342223
-0.342166 -0.34216 -0.342215 -0.342336 -0.342531 -0.342806 -0.343165
-0.343614 -0.344155 -0.344792 -0.345528 -0.346362 -0.347296 -0.348329
-0.34946 -0.350687 -0.352006 -0.353413 -0.354905 -0.356475 -0.358117
-0.359825 -0.361592 -0.363409 -0.365268 -0.36716 -0.369077 -0.371009
-0.372947 -0.374881 -0.376801 -0.378699 -0.380565 -0.38239 -0.384165
-0.385883 -0.387536 -0.389115 -0.390616 -0.392032 -0.393357 -0.394588
-0.39572 -0.396752 -0.397681 -0.398507 -0.399229 -0.399848 -0.400366
-0.400785 -0.40111 -0.401345 -0.401494 -0.401564 -0.401561 -0.401492
-0.401366 -0.401191 -0.400976 -0.40073 -0.400462 -0.400182 -0.399901
-0.399627 -0.399372 -0.399144 -0.398954 -0.39881 -0.398721 -0.398696
-0.398742 -0.398867 -0.399078 -0.39938 -0.399778 -0.400277 -0.400879
-0.401588 -0.402405 -0.403331 -0.404364 -0.405505 -0.40675 -0.408097
-0.409542 -0.411079 -0.412703 -0.414407 -0.416185 -0.418027 -0.419927
-0.421874 -0.423859 -0.425873 -0.427906 -0.429946 -0.431984 -0.434009
-0.436012 -0.437981 -0.439907 -0.441781 -0.443592 -0.445334 -0.446997
-0.448574 -0.45006 -0.451447 -0.452731 -0.453907 -0.454973 -0.455927
-0.456767 -0.457492 -0.458104 -0.458605 -0.458997 -0.459283 -0.459469
-0.459559 -0.459561 -0.459481 -0.459328 -0.459109 -0.458834 -0.458513
-0.458156 -0.457773 -0.457376 -0.456974 -0.456579 -0.456202 -0.455854
-0.455545 -0.455285 -0.455085 -0.454954 -0.454901 -0.454933 -0.455059
-0.455286 -0.455618 -0.456061 -0.456618 -0.457294 -0.458089 -0.459005
-0.460042 -0.461197 -0.46247 -0.463857 -0.465353 -0.466954 -0.468652
-0.470442 -0.472314 -0.474261 -0.476273 -0.478341 -0.480453 -0.482599
-0.484768 -0.486948 -0.489127 -0.491294 -0.493438 -0.495547 -0.49761
-0.499615 -0.501554 -0.503415 -0.50519 -0.506871 -0.508449 -0.509918
-0.511272 -0.512507 -0.513619 -0.514604 -0.515461 -0.516189 -0.51679
-0.517265 -0.517616 -0.517848 -0.517965 -0.517974 -0.517882 -0.517695
-0.517424 -0.517077 -0.516665 -0.516199 -0.515689 -0.515148 -0.514588
-0.514021 -0.513459 -0.512916 -0.512402 -0.51193 -0.511513 -0.511161
-0.510885 -0.510696 -0.510602 -0.510613 -0.510736 -0.510979 -0.511347
-0.511844 -0.512476 -0.513243 -0.514147 -0.51519 -0.516368 -0.517681
-0.519124 -0.520694 -0.522383 -0.524187 -0.526096 -0.528102 -0.530195
-0.532365 -0.534601 -0.53689 -0.53922 -0.541579 -0.543954 -0.54633
-0.548696 -0.551037 -0.55334 -0.555593 -0.557782 -0.559897 -0.561925
-0.563856 -0.565679 -0.567386 -0.568969 -0.570421 -0.571736 -0.572909
-0.573936 -0.574816 -0.575548 -0.576131 -0.576567 -0.57686 -0.577014
-0.577033 -0.576925 -0.576697 -0.576359 -0.57592 -0.575391 -0.574783
-0.574109 -0.573383 -0.572617 -0.571826 -0.571024 -0.570225 -0.569444
-0.568695 -0.567993 -0.56735 -0.566782 -0.5663 -0.565917 -0.565645
-0.565492 -0.56547 -0.565586 -0.565847 -0.56626 -0.56683 -0.567558
-0.568448 -0.5695 -0.570713 -0.572085 -0.573612 -0.575289 -0.57711
-0.579066 -0.58115 -0.58335 -0.585656 -0.588056 -0.590536 -0.593083
-0.595683 -0.598319 -0.600977 -0.603641 -0.606296 -0.608924 -0.611511
-0.614041 -0.6165 -0.618871 -0.621143 -0.6233 -0.625333 -0.627229 -0.628978
-0.630571 -0.632002 -0.633264 -0.634353 -0.635265 -0.635998 -0.636553
-0.636931 -0.637136 -0.637171 -0.637043 -0.63676 -0.63633 -0.635764
-0.635073 -0.63427 -0.633369 -0.632385 -0.631333 -0.63023 -0.629091
-0.627935 -0.62678 -0.625641 -0.624538 -0.623488 -0.622508 -0.621613
-0.620821 -0.620146 -0.619602 -0.619203 -0.61896 -0.618885 -0.618986
-0.619272 -0.619748 -0.620419 -0.621288 -0.622357 -0.623625 -0.625089
-0.626747 -0.628591 -0.630614 -0.632809 -0.635163 -0.637666 -0.640303
-0.64306 -0.645922 -0.64887 -0.651889 -0.654958 -0.658059 -0.661172
-0.664278 -0.667357 -0.670389 -0.673355 -0.676235 -0.679011 -0.681665
-0.68418 -0.686542 -0.688735 -0.690746 -0.692563 -0.694178 -0.69558
-0.696764 -0.697725 -0.69846 -0.698969 -0.699252 -0.699312 -0.699156
-0.698789 -0.698221 -0.697463 -0.696526 -0.695426 -0.694178 -0.692799
-0.691307 -0.689723 -0.688067 -0.68636 -0.684624 -0.682882 -0.681156
-0.67947 -0.677845 -0.676305 -0.674871 -0.673564 -0.672404 -0.67141
-0.670601 -0.669991 -0.669597 -0.669431 -0.669504 -0.669825 -0.670401
-0.671237 -0.672337 -0.673699 -0.675323 -0.677203 -0.679334 -0.681707
-0.68431 -0.687132 -0.690156 -0.693365 -0.696741 -0.700263 -0.70391
-0.707657 -0.711481 -0.715356 -0.719257 -0.723156 -0.727026 -0.730842
-0.734576 -0.738202 -0.741695 -0.745029 -0.748182 -0.75113 -0.753854
-0.756334 -0.758553 -0.760496 -0.762151 -0.763506 -0.764555 -0.765291
-0.765713 -0.76582 -0.765615 -0.765103 -0.764293 -0.763196 -0.761826
-0.760198 -0.758332 -0.756248 -0.753969 -0.751521 -0.748931 -0.746226
-0.743437 -0.740595 -0.737731 -0.734878 -0.732069 -0.729337 -0.726714
-0.724231 -0.721922 -0.719815 -0.71794 -0.716323 -0.71499 -0.713965
-0.713269 -0.712919 -0.712931 -0.713318 -0.71409 -0.715252 -0.716809
-0.718759 -0.721099 -0.723822 -0.726917 -0.73037 -0.734164 -0.738278
-0.742689 -0.74737 -0.752291 -0.75742 -0.762724 -0.768166 -0.773707
-0.779308 -0.784928 -0.790526 -0.796058 -0.801484 -0.806759 -0.811844
-0.816696 -0.821277 -0.825548 -0.829473 -0.83302 -0.836157 -0.838856
-0.841093 -0.842846 -0.844098 -0.844835 -0.845049 -0.844734 -0.843889
-0.84252 -0.840635 -0.838246 -0.835372 -0.832036 -0.828265 -0.824089
-0.819545 -0.814671 -0.809511 -0.804112 -0.798523 -0.792797 -0.786989
-0.781156 -0.775356 -0.769649 -0.764095 -0.758756 -0.753691 -0.74896
-0.744622 -0.740732 -0.737345 -0.734513 -0.732283 -0.730701 -0.729805
-0.729632 -0.730211 -0.731569 -0.733724 -0.736689 -0.740471 -0.74507
-0.750478 -0.756683 -0.763663 -0.771391 -0.77983 -0.788939 -0.798668
-0.80896 -0.819754 -0.830978 -0.842557 -0.85441;
#A 2000 -0.866449 -0.878582 -0.890713 -0.90274 -0.91456 -0.926063 -0.937142
-0.947684 -0.957577 -0.966707 -0.974962 -0.982229 -0.9884 -0.993365
-0.99702 -0.999264 -1 -0.999137 -0.996588 -0.992273 -0.986121 -0.978064
-0.968047 -0.956019 -0.941939 -0.925777 -0.907511 -0.887127 -0.864624
-0.840009 -0.8133 -0.784524 -0.75372 -0.720934 -0.686226 -0.649661
-0.611317 -0.571279 -0.529642 -0.486507 -0.441986 -0.396195 -0.349258
-0.301304 -0.25247 -0.202894 -0.15272 -0.102095 -0.0511675 -8.84042e-05
0.0509909;
#X coords 0 1 2051 -1 200 140 1;
#X restore 27 41 graph;
#X msg 27 185 \; sawtooth sinesum 2051 1 0.5 0.333333 0.25 0.2 0.166667
0.142857 0.125 0.111111 0.1 0.090909 0.0833333 0.076923 0.0714286 0.0666667
0.0625 0.0588235 0.0555556 0.0526316 0.05 0.047619 0.0454545 0.0434783
0.0416667 0.04 0.0384615 0.037037 0.0357143 0.0344828 0.0333333 \;
\; sawtooth normalize 1 \;;
#X restore 162 40 pd sawtooth_wavetable;
#X obj 115 310 expr~ atan($v1);
#X obj 115 289 *~ 4;
#X text 211 308 distort;
#X obj 110 426 freeverb~;
#X obj 137 374 loadbang;
#X msg 127 400 roomsize 0.6 \, wet 0.233 \, dry 0.667;
#X obj 108 159 vline~;
#X msg 108 137 -5 \, 6 100 \, 0 1700 100;
#X obj 107 182 expr~ exp(.057762265 * $v1);
#X obj 95 214 *~;
#X text 109 106 pitch envelope - from 5 semitones below to 6 semitones
above. Then down to the set frequency (0);
#X text 282 180 converts from a MIDI pitch to a RATIO: 0 --> 1 12 -->
2 (octave) -12 --> 0.5 (down an octave) etc;
#X obj 30 67 mtof;
#X obj 30 88 t f b;
#X obj 110 447 outlet~;
#X text 173 427 NOTE - if freeverb is missing (dotted outline) install
it via Help --> Get Externals \, then search for "freeverb";
#X obj 122 258 clone sawfest.cl 16;
#X connect 0 0 16 0;
#X connect 1 0 13 0;
#X connect 2 0 1 0;
#X connect 4 0 7 0;
#X connect 5 0 4 0;
#X connect 7 0 18 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 12 0 13 1;
#X connect 13 0 20 0;
#X connect 16 0 17 0;
#X connect 17 0 2 0;
#X connect 17 1 11 0;
#X connect 20 0 5 0;
#X restore 63 175 pd HOOVER;
#X connect 1 0 45 0;
#X connect 3 0 12 0;
#X connect 5 0 13 0;
#X connect 6 0 9 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 8 0 5 0;
#X connect 8 0 11 0;
#X connect 9 0 43 0;
#X connect 11 0 3 0;
#X connect 12 0 14 1;
#X connect 13 0 9 1;
#X connect 14 0 22 0;
#X connect 15 0 1 0;
#X connect 16 0 17 0;
#X connect 16 0 41 0;
#X connect 17 0 18 0;
#X connect 17 1 19 0;
#X connect 18 0 21 0;
#X connect 19 0 20 0;
#X connect 20 0 23 0;
#X connect 21 0 23 0;
#X connect 22 0 42 0;
#X connect 24 0 27 1;
#X connect 25 0 24 1;
#X connect 25 0 31 1;
#X connect 26 0 22 1;
#X connect 27 0 30 0;
#X connect 28 0 29 0;
#X connect 28 1 24 0;
#X connect 28 1 31 0;
#X connect 29 0 27 0;
#X connect 30 0 26 0;
#X connect 31 0 32 0;
#X connect 32 0 35 0;
#X connect 33 0 32 1;
#X connect 34 0 35 1;
#X connect 35 0 36 0;
#X connect 36 0 26 0;
#X connect 37 0 38 1;
#X connect 38 0 40 0;
#X connect 39 0 38 0;
#X connect 40 0 26 0;
#X connect 41 0 39 0;
#X connect 41 1 28 0;
#X connect 42 0 0 0;
#X connect 42 0 0 1;
#X connect 43 0 4 0;
#X connect 43 0 4 1;
#X connect 44 0 43 1;
#X connect 45 0 14 0;
#X restore 101 516 pd hover;
#X floatatom 354 608 0 0 0 0 - - hover_time 0;
#X obj 341 500 loadbang;
#X msg 362 556 4;
#X obj 485 501 tgl 15 0 hover_trigger empty hover_trigger 17 7 0 10
#fcfcfc #000000 #000000 0 1;
#X msg 406 559 8;
#X msg 444 564 16;
#X obj 335 639 hsl 128 15 0 1 0 0 hover_volume empty hover_volume -2
-8 0 10 #fcfcfc #000000 #000000 0 1;
#X floatatom 554 645 5 0 4 0 hover_mode - hover_mode 0;
#X floatatom 138 41 5 0 0 0 - - - 0;
#X floatatom 214 53 5 0 0 0 - - - 0;
#X obj 135 2 ctlin;
#X obj 161 74 / 127;
#X obj 278 85 spigot;
#X obj 364 27 == 16;
#X obj 473 37 == 17;
#X obj 360 90 spigot;
#X obj 39 28 loadbang;
#X obj 578 17 == 18;
#X obj 471 71 spigot;
#X obj 676 22 == 0;
#X obj 737 66 spigot;
#X obj 814 53 spigot;
#X obj 790 23 == 1;
#X obj 765 247 == 19;
#X obj 718 302 spigot;
#X obj 103 93 == 23;
#X obj 34 162 spigot;
#X obj 100 213 + 80;
#X obj 111 181 * 100;
#X msg 35 312 0 7 5 7 0 7 5 7 0 7 5 7 0 7 5 7;
#X obj 898 62 spigot;
#X obj 874 32 == 2;
#X obj 939 163 spigot;
#X obj 915 133 == 3;
#X obj 969 191 spigot;
#X obj 1006 139 == 4;
#X obj 1074 27 == 41;
#X obj 1080 59 spigot;
#X obj 280 309 spigot;
#X obj 274 277 == 32;
#X obj 221 378 spigot;
#X obj 271 371 == 48;
#X obj 274 461 spigot;
#X obj 276 418 == 64;
#X obj 1018 269 spigot;
#X obj 1139 265 spigot;
#X obj 1133 233 == 49;
#X obj 1012 237 == 33;
#X msg 18 444 0 7 5 1 0 7 5 1 0 7 5 1 0 7 5 1;
#X obj 617 586 spigot;
#X obj 611 554 == 20;
#X obj 525 580 spigot;
#X obj 519 548 == 34;
#X obj 466 608 +;
#X msg 485 567 3;
#X floatatom 479 691 5 0 0 0 - - - 0;
#N canvas 0 25 1440 784 web 1;
#X obj 129 334 out~ 0.5;
#X floatatom 197 239 5 0 0 0 - - - 0;
#X obj 164 269 route text binary;
#X floatatom 229 209 5 0 0 0 - - - 0;
#X text 293 269 <- MESSAGE TYPE;
#X text 237 237 <- NUMBER OF CONNECTED WEBSOCKETS;
#X text 269 207 <- RECEIVING SOCKET NUMBER;
#N canvas 159 62 1378 625 websocket-server 0;
#X obj 1139 197 r websockets-list;
#X obj 1025 21 inlet;
#X obj 276 22 inlet;
#X obj 1007 574 outlet;
#X obj 314 576 outlet;
#X obj 655 269 i;
#X obj 637 293 <;
#X obj 637 242 t f b;
#X obj 637 319 select 1;
#X obj 637 21 inlet;
#N canvas 88 50 508 668 remove_socket 0;
#X obj 120 208 i;
#X obj 37 185 list;
#X obj 37 208 list split 1;
#X obj 136 426 list prepend;
#X obj 136 401 i;
#X obj 37 233 t f f;
#X obj 37 256 ==;
#X obj 37 320 list;
#X obj 37 343 route bang;
#X obj 136 451 t l l;
#X obj 70 482 list;
#X obj 37 282 select 0 1;
#X obj 104 373 t l b;
#X obj 102 565 s websockets-list;
#X obj 70 620 outlet;
#X obj 70 539 t b l;
#X obj 37 22 inlet;
#X obj 138 22 inlet;
#X obj 37 73 route bang;
#X obj 70 512 list append;
#X obj 241 426 s remove_socket_from_send_buffer;
#X obj 37 134 t b b;
#X obj 37 105 t b b;
#X obj 241 386 i;
#X obj 62 162 r websockets-list;
#X text 161 69 if disconnected client is a websocket \; - remove it
from websockets list \; - remove its remaining messages from buffer
;
#X text 240 448 see 'pd send-buffer' in main object;
#X connect 0 0 6 1;
#X connect 0 0 23 1;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 2 1 7 1;
#X connect 2 1 19 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 5 1 4 1;
#X connect 6 0 11 0;
#X connect 7 0 8 0;
#X connect 8 1 12 0;
#X connect 9 0 3 1;
#X connect 9 1 10 1;
#X connect 10 0 19 0;
#X connect 11 0 7 0;
#X connect 11 1 10 0;
#X connect 11 1 23 0;
#X connect 12 0 2 0;
#X connect 12 1 4 0;
#X connect 15 0 14 0;
#X connect 15 1 13 0;
#X connect 16 0 18 0;
#X connect 17 0 0 1;
#X connect 18 0 22 0;
#X connect 19 0 15 0;
#X connect 21 0 1 0;
#X connect 21 1 0 0;
#X connect 21 1 3 1;
#X connect 21 1 10 1;
#X connect 22 0 21 0;
#X connect 23 0 20 0;
#X connect 24 0 1 1;
#X restore 637 343 pd remove_socket;
#X obj 637 575 outlet;
#X obj 341 249 i;
#N canvas 112 66 403 331 add_socket 0;
#X obj 36 134 list;
#X obj 36 159 list append;
#X obj 68 212 s websockets-list;
#X obj 36 20 inlet;
#X obj 36 183 t b l;
#X obj 36 282 outlet;
#X obj 36 244 i;
#X obj 61 105 r websockets-list;
#X obj 36 62 t b f;
#X text 109 18 add socket to websockets list \; (just after sending
handshake response);
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 6 0;
#X connect 4 1 2 0;
#X connect 6 0 5 0;
#X connect 7 0 0 1;
#X connect 8 0 0 0;
#X connect 8 1 1 1;
#X connect 8 1 6 1;
#X restore 341 286 pd add_socket;
#X obj 1007 425 i;
#X obj 637 368 t b b;
#X obj 28 576 outlet;
#N canvas 81 50 985 749 websocket-data 0;
#X obj 146 17 inlet;
#X obj 882 19 inlet;
#X obj 24 704 outlet;
#X obj 24 591 i;
#X msg 24 617 list disconnectsocket \$1;
#X obj 863 703 outlet;
#X obj 863 427 i;
#X obj 477 703 outlet;
#X text 262 702 output unmasked messages;
#X text 910 703 socket;
#X obj 24 564 t b;
#N canvas 132 63 832 789 unmask-message 0;
#X obj 177 111 i;
#X obj 219 111 + 1;
#X obj 170 287 * 256;
#X obj 152 311 +;
#X obj 106 286 t f b;
#X obj 417 533 mod 4;
#X obj 417 581 route 0 1 2 3;
#X obj 417 557 pack f f;
#X obj 417 630 expr $i1^$i2;
#X obj 509 630 expr $i1^$i2;
#X obj 601 630 expr $i1^$i2;
#X obj 692 630 expr $i1^$i2;
#X obj 328 460 ==;
#X obj 152 416 route 0;
#X obj 152 443 t b b;
#X obj 417 484 unpack f f;
#X obj 328 414 t f a;
#X obj 328 484 select 1;
#X obj 195 79 0;
#X obj 417 742 outlet;
#X obj 93 18 inlet;
#X obj 106 385 - 128;
#X obj 93 79 t b f;
#X obj 72 177 pack f f;
#X obj 222 79 10;
#X obj 328 437 - 13;
#X obj 276 79 8;
#X obj 152 385 +;
#X obj 180 363 0;
#X obj 170 339 expr ($i2 << 24) + ($i1 << 16);
#X obj 72 214 route 0 1 2 3 4 5 6 7 8 9 10 11 12 13;
#X obj 18 260 route 254 255;
#X obj 417 508 - 14;
#X text 416 213 0: message type \; 1: mask present (128) + data length(<126)
\; [or extended length : 254=16bit or 255=64bit] \; 2-5: 32 higher
bits of 64bit length (unsupported) \; 6-7: bits 16 to 32 of 64bit length
\; 8-9: 16bit length (or 16 lower bits of 64bit length) \; 10-13: 32bit
mask \; 14 and more: data;
#X obj 328 512 t b b;
#X obj 249 79 - 4;
#X obj 26 151 moses 0;
#X obj 72 741 outlet;
#X connect 0 0 1 0;
#X connect 0 0 36 0;
#X connect 1 0 0 1;
#X connect 2 0 3 1;
#X connect 3 0 27 0;
#X connect 4 0 21 0;
#X connect 4 1 24 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 6 1 9 0;
#X connect 6 2 10 0;
#X connect 6 3 11 0;
#X connect 7 0 6 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 17 0;
#X connect 13 0 14 0;
#X connect 13 1 12 1;
#X connect 14 0 37 0;
#X connect 14 1 35 0;
#X connect 15 0 32 0;
#X connect 15 1 7 1;
#X connect 16 0 25 0;
#X connect 16 1 15 0;
#X connect 17 0 34 0;
#X connect 18 0 0 1;
#X connect 20 0 22 0;
#X connect 21 0 13 0;
#X connect 22 0 0 0;
#X connect 22 1 23 1;
#X connect 23 0 30 0;
#X connect 24 0 0 1;
#X connect 25 0 12 0;
#X connect 26 0 0 1;
#X connect 27 0 13 0;
#X connect 28 0 27 1;
#X connect 29 0 27 1;
#X connect 30 0 37 0;
#X connect 30 1 31 0;
#X connect 30 6 29 1;
#X connect 30 7 29 0;
#X connect 30 8 2 0;
#X connect 30 9 3 0;
#X connect 30 10 8 1;
#X connect 30 11 9 1;
#X connect 30 12 10 1;
#X connect 30 13 11 1;
#X connect 30 14 16 0;
#X connect 31 0 26 0;
#X connect 31 0 28 0;
#X connect 31 2 4 0;
#X connect 32 0 5 0;
#X connect 34 0 18 0;
#X connect 34 1 37 0;
#X connect 35 0 0 1;
#X connect 36 1 23 0;
#X restore 146 71 pd unmask-message;
#X text 72 703 to 'send-buffer';
#X obj 146 179 route bang;
#X obj 342 144 0;
#X obj 315 144 1;
#X obj 468 145 0;
#X obj 441 145 1;
#X obj 315 117 t b b;
#X obj 409 117 t b b;
#X obj 262 179 spigot 1;
#X obj 388 179 spigot 0;
#X obj 213 243 route 129 130;
#X obj 301 267 t f b;
#X obj 301 292 route 136 137 138;
#X obj 213 703 outlet;
#X obj 213 205 t f b;
#X msg 213 294 text;
#X msg 257 318 binary;
#X obj 388 218 route bang;
#X obj 455 243 list prepend;
#X obj 262 117 t f;
#X obj 455 267 t l l;
#X obj 429 292 list;
#X obj 466 218 t b;
#X obj 429 400 list prepend;
#X msg 339 318 ping;
#X msg 378 343 pong;
#X msg 301 343 close;
#X obj 146 205 t b b;
#X obj 429 423 list trim;
#X text 275 71 <-- PROCESS MESSAGES AND MASK;
#X obj 213 444 t a;
#X obj 673 525 i;
#X obj 673 502 t b;
#X obj 590 634 print websocket-server;
#X msg 673 548 <PONG> received from socket \$1;
#X obj 429 446 route close ping pong;
#X obj 558 533 i;
#X msg 590 606 <PING> received from socket \$1;
#X obj 477 500 t a b;
#X obj 477 606 list prepend;
#X msg 558 581 send \$1 pong;
#X obj 558 557 t f f;
#X obj 881 373 t f;
#X text 524 702 pong response (with ping content);
#X text 151 314 websocket \; message types;
#X text 479 174 dispatch messages bytestream : \; - straight to outlet
for text/binary \; - concat to list for websocket server messages;
#X connect 0 0 11 0;
#X connect 1 0 54 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 6 0 5 0;
#X connect 10 0 3 0;
#X connect 11 0 13 0;
#X connect 11 1 31 0;
#X connect 13 0 39 0;
#X connect 13 1 26 0;
#X connect 14 0 20 1;
#X connect 15 0 20 1;
#X connect 16 0 21 1;
#X connect 17 0 21 1;
#X connect 18 0 15 0;
#X connect 18 1 16 0;
#X connect 19 0 14 0;
#X connect 19 1 17 0;
#X connect 20 0 42 0;
#X connect 21 0 29 0;
#X connect 22 0 27 0;
#X connect 22 1 28 0;
#X connect 22 2 23 0;
#X connect 23 0 24 0;
#X connect 23 1 19 0;
#X connect 23 1 34 0;
#X connect 23 1 35 1;
#X connect 24 0 38 0;
#X connect 24 1 36 0;
#X connect 24 2 37 0;
#X connect 26 0 22 0;
#X connect 26 1 18 0;
#X connect 26 1 6 0;
#X connect 27 0 42 0;
#X connect 28 0 42 0;
#X connect 29 0 33 0;
#X connect 29 1 30 0;
#X connect 30 0 32 0;
#X connect 31 0 20 0;
#X connect 31 0 21 0;
#X connect 32 0 33 1;
#X connect 32 1 30 1;
#X connect 33 0 35 0;
#X connect 34 0 30 1;
#X connect 34 0 33 1;
#X connect 35 0 40 0;
#X connect 36 0 35 1;
#X connect 37 0 35 1;
#X connect 38 0 35 1;
#X connect 39 1 20 0;
#X connect 39 1 21 0;
#X connect 40 0 47 0;
#X connect 42 0 25 0;
#X connect 43 0 46 0;
#X connect 44 0 43 0;
#X connect 46 0 45 0;
#X connect 47 0 10 0;
#X connect 47 1 50 0;
#X connect 47 2 44 0;
#X connect 48 0 53 0;
#X connect 49 0 45 0;
#X connect 50 0 51 0;
#X connect 50 1 48 0;
#X connect 51 0 7 0;
#X connect 52 0 51 1;
#X connect 53 0 52 0;
#X connect 53 1 49 0;
#X connect 54 0 43 1;
#X connect 54 0 3 1;
#X connect 54 0 48 1;
#X connect 54 0 6 1;
#X restore 276 418 pd websocket-data;
#X obj 341 212 t b l;
#X obj 28 22 inlet;
#X obj 1206 572 outlet;
#X text 478 179 WEBSOCKET HANDSHAKE \; <-- & WEB SERVER;
#X text 408 412 <-- PROCESS \; INCOMING MESSAGES;
#X text 153 186 <-- PROCESS \; OUTGOING MESSAGES;
#X text 360 575 <- output decoded messages;
#X obj 1139 237 route bang;
#X obj 28 92 list trim;
#X obj 28 131 route broadcast send webpage;
#X text 70 20 websocket messages to send \; (and optional webpage)
;
#X obj 637 467 i;
#X obj 655 433 list length;
#X obj 655 407 r websockets-list;
#X obj 1044 51 inlet;
#N canvas 90 50 803 610 send-buffer 0;
#X obj 32 18 inlet;
#X obj 295 569 outlet;
#X obj 562 123 r tosendbuffer;
#X obj 32 150 t l b b;
#X obj 55 199 list;
#X obj 32 100 list length;
#X obj 32 125 list append;
#X obj 32 227 list prepend;
#X obj 32 252 s tosendbuffer;
#X obj 228 313 list;
#X obj 228 339 route bang;
#X obj 295 372 list split 1;
#X obj 295 454 list split;
#X obj 295 427 list;
#X obj 295 402 t b f;
#X obj 328 482 s tosendbuffer;
#X obj 228 263 t b b;
#X obj 295 512 list trim;
#X obj 562 195 value bufferlength;
#X obj 562 156 list length;
#X obj 32 76 t l l;
#N canvas 397 50 440 761 remove_socket_from_send_buffer 0;
#X obj 47 142 list;
#X obj 47 169 route bang;
#X obj 137 219 list split 1;
#X obj 137 300 list split;
#X obj 137 274 list;
#X obj 137 249 t b f f;
#X obj 137 455 list;
#X obj 137 326 t l l;
#X obj 169 504 list;
#X obj 137 352 list split 2;
#X msg 137 376 \$2;
#X obj 137 404 ==;
#X obj 47 69 t b b f;
#X obj 169 585 t l l;
#X obj 169 558 list prepend;
#X obj 114 611 list;
#X obj 137 430 t b f;
#X obj 169 530 list prepend;
#X obj 114 194 t b l b;
#X obj 169 478 select 0;
#X obj 114 676 s tosendbuffer;
#X obj 72 118 r tosendbuffer;
#X obj 47 28 inlet;
#X connect 0 0 1 0;
#X connect 1 1 18 0;
#X connect 2 0 5 0;
#X connect 2 1 4 1;
#X connect 3 0 7 0;
#X connect 3 1 6 1;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 5 1 3 1;
#X connect 5 2 17 1;
#X connect 6 0 2 0;
#X connect 7 0 9 0;
#X connect 7 1 8 1;
#X connect 8 0 17 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 16 0;
#X connect 12 0 0 0;
#X connect 12 2 11 1;
#X connect 13 0 15 1;
#X connect 13 1 14 1;
#X connect 14 0 13 0;
#X connect 15 0 20 0;
#X connect 16 0 6 0;
#X connect 16 1 19 0;
#X connect 17 0 14 0;
#X connect 18 0 15 0;
#X connect 18 1 2 0;
#X connect 18 2 14 1;
#X connect 19 0 8 0;
#X connect 21 0 0 1;
#X connect 22 0 12 0;
#X restore 425 338 pd remove_socket_from_send_buffer;
#X obj 227 48 loadbang;
#X obj 80 175 r tosendbuffer;
#X obj 253 289 r tosendbuffer;
#X obj 425 294 r remove_socket_from_send_buffer;
#X text 80 76 add to buffer;
#X text 434 315 remove remaining messages from disconnected client
;
#X obj 228 237 metro 10;
#X obj 281 111 select 0 1;
#X obj 281 144 10;
#X obj 309 144 1;
#X obj 364 111 abs;
#X obj 364 135 int;
#X obj 281 188 i;
#X obj 363 157 t b f;
#X obj 281 212 +;
#X obj 281 82 r iemnet;
#X obj 364 82 r add_sending_delay;
#X text 286 237 <- OUTGOING MESSAGES;
#X text 127 131 default values for \; mrpeach and iemnet ->;
#X text 629 34 FIFO SEND BUFFER;
#X connect 0 0 20 0;
#X connect 2 0 19 0;
#X connect 3 0 7 0;
#X connect 3 1 4 0;
#X connect 4 0 7 1;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 10 1 11 0;
#X connect 11 0 14 0;
#X connect 11 1 13 1;
#X connect 12 0 17 0;
#X connect 12 1 15 0;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 14 1 12 1;
#X connect 16 0 9 0;
#X connect 17 0 1 0;
#X connect 19 0 18 0;
#X connect 20 0 5 0;
#X connect 20 1 6 1;
#X connect 22 0 28 0;
#X connect 23 0 4 1;
#X connect 24 0 9 1;
#X connect 25 0 21 0;
#X connect 28 0 16 0;
#X connect 29 0 30 0;
#X connect 29 1 31 0;
#X connect 30 0 34 0;
#X connect 31 0 34 0;
#X connect 32 0 33 0;
#X connect 33 0 35 0;
#X connect 34 0 36 0;
#X connect 35 0 34 0;
#X connect 35 1 36 1;
#X connect 36 0 28 1;
#X connect 37 0 29 0;
#X connect 38 0 32 0;
#X restore 28 500 pd send-buffer;
#X text 133 501 <-- 'SEND' BUFFER;
#N canvas 107 50 1024 942 websocket-http 0;
#N canvas 133 64 604 593 websocketresponsekey 0;
#N canvas 180 50 915 973 sha1-processchunk 0;
#X obj 590 489 unpack f f f f;
#N canvas 603 716 387 175 sha1-add 0;
#X obj 21 86 expr (($i1+$i3) + (($i2+$i4) / 65536)) % 65536 \; ($i2
+ $i4) % 65536;
#X obj 300 48 inlet;
#X obj 21 48 inlet;
#X obj 114 48 inlet;
#X obj 207 48 inlet;
#X obj 21 137 outlet;
#X obj 300 136 outlet;
#X text 93 10 pseudo 32 bits add function;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 0 3;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 0 2;
#X restore 644 522 pd sha1-add;
#X text 190 447 a left-rotate 5;
#X obj 42 464 expr ((registers[0] << 5) % 65536) ^ (registers[1] >>
11) \; ((registers[1] << 5) % 65536) ^ (registers[0] >> 11);
#X obj 457 463 expr registers[8] \; registers[9 ];
#X obj 569 400 t b b f f;
#N canvas 608 713 387 175 sha1-add 0;
#X obj 21 56 expr (($i1+$i3) + (($i2+$i4) / 65536)) % 65536 \; ($i2
+ $i4) % 65536;
#X obj 300 18 inlet;
#X obj 21 18 inlet;
#X obj 114 18 inlet;
#X obj 207 18 inlet;
#X obj 21 107 outlet;
#X obj 300 106 outlet;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 0 3;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 0 2;
#X restore 590 549 pd sha1-add;
#N canvas 603 699 393 175 sha1-add 0;
#X obj 21 56 expr (($i1+$i3) + (($i2+$i4) / 65536)) % 65536 \; ($i2
+ $i4) % 65536;
#X obj 300 18 inlet;
#X obj 21 18 inlet;
#X obj 114 18 inlet;
#X obj 207 18 inlet;
#X obj 21 107 outlet;
#X obj 300 106 outlet;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 0 3;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 0 2;
#X restore 42 655 pd sha1-add;
#N canvas 605 700 390 175 sha1-add 0;
#X obj 21 56 expr (($i1+$i3) + (($i2+$i4) / 65536)) % 65536 \; ($i2
+ $i4) % 65536;
#X obj 300 18 inlet;
#X obj 21 18 inlet;
#X obj 114 18 inlet;
#X obj 207 18 inlet;
#X obj 21 107 outlet;
#X obj 300 106 outlet;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 0 3;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 0 2;
#X restore 457 594 pd sha1-add;
#X obj 42 886 pack f f f f f f f f f f;
#X msg 42 915 \; registers 0 \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8 \$9 \$10
;
#X obj 42 689 t f b;
#X obj 78 712 expr registers[0] \; registers[1] \; ((registers[2] >>
2)) ^ ((registers[3] << 14) % 65536) \; ((registers[3] >> 2)) ^ ((registers[2]
<< 14) % 65536) \; registers[4] \; registers[5] \; registers[6] \;
registers[7];
#N canvas 76 50 1359 582 sha1-computefk 0;
#X obj 29 72 moses 20;
#X obj 381 132 moses 40;
#X obj 696 197 moses 60;
#X obj 29 273 expr (registers[2] & registers[4]) ^ ( (~registers[2])
& registers[6]) \; (registers[3] & registers[5]) ^ ( (~registers[3])
& registers[7]);
#X obj 381 342 pack;
#X obj 381 273 expr registers[2] ^ registers[4] ^ registers[6] \; registers[3]
^ registers[5] ^ registers[7];
#X obj 696 340 pack;
#X obj 696 273 expr (registers[2] & registers[4]) ^ (registers[2] &
registers[6]) ^ (registers[4] & registers[6]) \; (registers[3] & registers[5])
^ (registers[3] & registers[7]) ^ (registers[5] & registers[7]);
#X obj 29 342 pack;
#X msg 29 376 \$1 \$2 23170 31129;
#X obj 1036 340 pack;
#X obj 1036 273 expr registers[2] ^ registers[4] ^ registers[6] \;
registers[3] ^ registers[5] ^ registers[7];
#X msg 381 375 \$1 \$2 28377 60321;
#X msg 696 373 \$1 \$2 36635 48348;
#X msg 1036 373 \$1 \$2 51810 49622;
#X obj 29 21 inlet;
#X text 79 20 counter value;
#X text 44 246 0 <= i <= 19 -> (b and c) xor ((not b) and d);
#X text 394 248 20 <= i <= 39 -> b xor c xor d;
#X text 1046 248 60 <= i <= 79 -> b xor c xor d;
#X text 707 249 40 <= i <= 59 (b and c) xor (b and d) xor (c and d)
;
#X text 151 375 k = 0x5A827999;
#X text 505 374 k = 0x6ED9EBA1;
#X text 819 372 k = 0x8F1BBCDC;
#X text 1157 373 k = 0xCA62C1D6;
#X obj 29 536 outlet;
#X text 89 534 output : f and k;
#X connect 0 0 3 0;
#X connect 0 1 1 0;
#X connect 1 0 5 0;
#X connect 1 1 2 0;
#X connect 2 0 7 0;
#X connect 2 1 11 0;
#X connect 3 0 8 0;
#X connect 3 1 8 1;
#X connect 4 0 12 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 6 0 13 0;
#X connect 7 0 6 0;
#X connect 7 1 6 1;
#X connect 8 0 9 0;
#X connect 9 0 25 0;
#X connect 10 0 14 0;
#X connect 11 0 10 0;
#X connect 11 1 10 1;
#X connect 12 0 25 0;
#X connect 13 0 25 0;
#X connect 14 0 25 0;
#X connect 15 0 0 0;
#X restore 590 463 pd sha1-computefk;
#N canvas 242 50 668 385 sha1-computew 0;
#X obj 27 18 inlet;
#X obj 286 132 expr chunk[($i1*2)-6] ^ chunk[($i1*2)-16] ^ chunk[($i1*2)-28]
^ chunk[($i1*2)-32] \; chunk[($i1*2)-5] ^ chunk[($i1*2)-15] ^ chunk[($i1*2)-27]
^ chunk[($i1*2)-31];
#X obj 258 102 t f f;
#X obj 286 203 expr (($i1 << 1) % 65536) ^ ($i2 >> 15) \; (($i2 <<
1) % 65536) ^ ($i1 >> 15);
#X obj 27 67 moses 16;
#X obj 27 135 expr chunk[($i1*2)] \; chunk[($i1*2)+1];
#X obj 258 272 pack f f f;
#X obj 258 241 * 2;
#X obj 27 350 outlet;
#X obj 259 349 outlet;
#X obj 258 299 s chunk;
#X text 317 101 generate words for 16 <= i <= 79;
#X text 158 134 input word;
#X connect 0 0 4 0;
#X connect 1 0 3 0;
#X connect 1 1 3 1;
#X connect 2 0 7 0;
#X connect 2 1 1 0;
#X connect 3 0 6 1;
#X connect 3 0 8 0;
#X connect 3 1 6 2;
#X connect 3 1 9 0;
#X connect 4 0 5 0;
#X connect 4 1 2 0;
#X connect 5 0 8 0;
#X connect 5 1 9 0;
#X connect 6 0 10 0;
#X connect 7 0 6 0;
#X restore 716 462 pd sha1-computew;
#X obj 569 338 until;
#X obj 599 364 + 1;
#X obj 569 364 i;
#X msg 602 315 0;
#X obj 569 289 t b b;
#X msg 569 315 80;
#X obj 275 13 inlet;
#X obj 570 150 until;
#X obj 600 176 + 1;
#X msg 570 127 10;
#X obj 570 176 i;
#X obj 570 255 tabwrite registers;
#X obj 570 202 t f f;
#X obj 570 102 t f b;
#X msg 613 150 0;
#X obj 275 53 t b b b;
#X obj 37 165 i;
#X msg 70 118 0;
#X obj 37 92 t b b;
#X obj 437 277 tabread registers;
#X msg 37 118 5;
#X obj 310 278 tabread registers;
#N canvas 707 678 374 175 sha1-add 0;
#X obj 21 56 expr (($i1+$i3) + (($i2+$i4) / 65536)) % 65536 \; ($i2
+ $i4) % 65536;
#X obj 300 18 inlet;
#X obj 21 18 inlet;
#X obj 114 18 inlet;
#X obj 207 18 inlet;
#X obj 21 107 outlet;
#X obj 300 106 outlet;
#X connect 0 0 5 0;
#X connect 0 1 6 0;
#X connect 1 0 0 3;
#X connect 2 0 0 0;
#X connect 3 0 0 1;
#X connect 4 0 0 2;
#X restore 199 312 pd sha1-add;
#X obj 67 165 + 2;
#X obj 191 254 + 1;
#X obj 437 254 + 1;
#X msg 166 385 \$1 \$2 \$3;
#X obj 166 359 pack f f f;
#X obj 166 334 i;
#X obj 37 188 t f f;
#X obj 37 141 until;
#X obj 37 212 t b f f f f f;
#X obj 166 411 s sha1hash;
#X obj 72 278 tabread sha1hash;
#X obj 191 278 tabread sha1hash;
#X obj 570 228 tabread sha1hash;
#X text 610 101 initialize registers for new chunk \; hash[] -> registers[]
;
#X text 79 91 update hash table for this chunck;
#X text 617 289 main loop processing chunk;
#X text 426 712 b = a \; \; c = b rightrotate 2 \; \; d = c \; \; e
= d;
#X text 48 445 a =;
#X text 452 447 + e;
#X text 596 445 + f + k;
#X text 736 444 + word;
#X text 283 312 hash[] += registers[];
#X text 401 26 SHA1 : all 32 bit numbers are treated as 16 bit pairs
\; (see Wikipedia for pseudo-code);
#X connect 0 0 6 0;
#X connect 0 1 6 1;
#X connect 0 2 1 0;
#X connect 0 3 1 1;
#X connect 1 0 6 2;
#X connect 1 1 6 3;
#X connect 3 0 7 0;
#X connect 3 1 7 1;
#X connect 4 0 8 0;
#X connect 4 1 8 1;
#X connect 5 0 3 0;
#X connect 5 1 4 0;
#X connect 5 2 13 0;
#X connect 5 3 14 0;
#X connect 6 0 8 2;
#X connect 6 1 8 3;
#X connect 7 0 11 0;
#X connect 7 1 9 1;
#X connect 8 0 7 2;
#X connect 8 1 7 3;
#X connect 9 0 10 0;
#X connect 11 0 9 0;
#X connect 11 1 12 0;
#X connect 12 0 9 2;
#X connect 12 1 9 3;
#X connect 12 2 9 4;
#X connect 12 3 9 5;
#X connect 12 4 9 6;
#X connect 12 5 9 7;
#X connect 12 6 9 8;
#X connect 12 7 9 9;
#X connect 13 0 0 0;
#X connect 14 0 1 2;
#X connect 14 1 1 3;
#X connect 15 0 17 0;
#X connect 16 0 17 1;
#X connect 17 0 16 0;
#X connect 17 0 5 0;
#X connect 18 0 17 1;
#X connect 19 0 20 0;
#X connect 19 1 18 0;
#X connect 20 0 15 0;
#X connect 21 0 30 0;
#X connect 22 0 25 0;
#X connect 23 0 25 1;
#X connect 24 0 22 0;
#X connect 25 0 23 0;
#X connect 25 0 27 0;
#X connect 27 0 50 0;
#X connect 27 1 26 1;
#X connect 28 0 24 0;
#X connect 28 1 29 0;
#X connect 29 0 25 1;
#X connect 30 0 33 0;
#X connect 30 1 19 0;
#X connect 30 2 28 0;
#X connect 31 0 44 0;
#X connect 32 0 31 1;
#X connect 33 0 35 0;
#X connect 33 1 32 0;
#X connect 34 0 37 3;
#X connect 35 0 45 0;
#X connect 36 0 37 2;
#X connect 37 0 42 1;
#X connect 37 1 42 2;
#X connect 38 0 31 1;
#X connect 39 0 49 0;
#X connect 40 0 34 0;
#X connect 41 0 47 0;
#X connect 42 0 41 0;
#X connect 43 0 42 0;
#X connect 44 0 46 0;
#X connect 44 1 38 0;
#X connect 45 0 31 0;
#X connect 46 0 43 0;
#X connect 46 1 43 1;
#X connect 46 2 48 0;
#X connect 46 3 39 0;
#X connect 46 4 36 0;
#X connect 46 5 40 0;
#X connect 48 0 37 0;
#X connect 49 0 37 1;
#X connect 50 0 26 0;
#X restore 94 376 pd sha1-processchunk;
#N canvas 185 97 469 496 sha1-flushwebsocketkey 0;
#X obj 81 235 t b f;
#X obj 81 210 list split 2;
#X obj 162 235 * 256;
#X obj 113 261 +;
#X obj 113 412 list prepend 0;
#X obj 113 438 s chunk;
#X obj 113 344 t b l;
#X obj 113 287 list prepend;
#X obj 113 314 list split 30;
#X obj 113 388 list append 32768 0;
#X obj 48 19 inlet;
#N canvas 227 128 402 294 sha1-clearchunk 0;
#X obj 54 121 until;
#X obj 84 147 + 1;
#X obj 54 147 i;
#X msg 97 121 0;
#X obj 54 26 inlet;
#X msg 54 98 160;
#X obj 54 174 t b f;
#X obj 54 200 0;
#X obj 54 228 tabwrite chunk;
#X obj 54 73 t b b;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 1 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 9 0;
#X connect 5 0 0 0;
#X connect 6 0 7 0;
#X connect 6 1 8 1;
#X connect 7 0 8 0;
#X connect 9 0 5 0;
#X connect 9 1 3 0;
#X restore 194 184 pd sha1-clearchunk;
#X obj 81 144 t f b;
#X text 196 210 <- convert stream to words (2x16bit);
#X text 215 286 <- get 15 words \; for fixed length (60 bytes) \; websocket
key + magic string;
#X text 253 388 <- append bit 1 to message \; specific fixed position
\; for 60 bytes string \;;
#X obj 194 260 loadbang;
#X obj 81 184 list append;
#X obj 19 90 list append;
#X obj 48 65 list split 1;
#X obj 49 114 t b f;
#X connect 0 0 17 1;
#X connect 0 1 3 0;
#X connect 1 0 0 0;
#X connect 1 2 2 0;
#X connect 1 2 17 1;
#X connect 2 0 3 1;
#X connect 3 0 7 0;
#X connect 4 0 5 0;
#X connect 6 0 7 1;
#X connect 6 1 9 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 8 2 7 1;
#X connect 9 0 4 0;
#X connect 10 0 19 0;
#X connect 12 0 17 0;
#X connect 12 1 11 0;
#X connect 16 0 7 1;
#X connect 16 0 17 1;
#X connect 17 0 1 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 19 1 18 1;
#X connect 20 0 18 0;
#X connect 20 1 12 0;
#X restore 140 255 pd sha1-flushwebsocketkey;
#N canvas 186 95 444 287 sha1-paddingchunk 0;
#N canvas 240 134 413 283 sha1-clearchunk 0;
#X obj 49 120 until;
#X obj 79 146 + 1;
#X obj 49 146 i;
#X msg 92 120 0;
#X obj 49 27 inlet;
#X msg 49 97 160;
#X obj 49 173 t b f;
#X obj 49 199 0;
#X obj 49 227 tabwrite chunk;
#X obj 49 72 t b b;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 1 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 9 0;
#X connect 5 0 0 0;
#X connect 6 0 7 0;
#X connect 6 1 8 1;
#X connect 7 0 8 0;
#X connect 9 0 5 0;
#X connect 9 1 3 0;
#X restore 75 125 pd sha1-clearchunk;
#X msg 43 185 31 480;
#X obj 43 28 inlet;
#X obj 43 72 t b b;
#X obj 43 214 s chunk;
#X text 210 121 one more zero padding chunk \; is needed to put the
64 bits \; final string for sha1 input;
#X text 89 184 <-length of original message is coded here;
#X connect 1 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 3 1 0 0;
#X restore 76 417 pd sha1-paddingchunk;
#N canvas 187 96 427 369 flushsha1hash 0;
#X obj 58 172 tabread sha1hash;
#X obj 58 199 expr $i1 % 256 \; $i1 / 256;
#X obj 58 241 list prepend;
#X obj 58 268 list split 20;
#X obj 58 120 until;
#X obj 88 146 + 1;
#X obj 58 146 i;
#X msg 101 120 0;
#X msg 58 97 10;
#X obj 58 72 t b b b;
#X obj 58 24 inlet;
#X obj 58 317 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 2 0;
#X connect 2 0 3 0;
#X connect 3 0 11 0;
#X connect 3 2 2 1;
#X connect 4 0 6 0;
#X connect 5 0 6 1;
#X connect 6 0 5 0;
#X connect 6 0 0 0;
#X connect 7 0 6 1;
#X connect 8 0 4 0;
#X connect 9 0 8 0;
#X connect 9 1 7 0;
#X connect 9 2 2 1;
#X connect 10 0 9 0;
#X restore 39 469 pd flushsha1hash;
#N canvas 190 87 650 658 base64encoder 0;
#X obj 160 117 list append;
#X obj 183 92 list split 3;
#X obj 183 143 t b l;
#X obj 43 233 list;
#X obj 265 258 list;
#X obj 61 117 list length;
#X obj 43 167 i;
#X obj 386 257 unpack f f f;
#X obj 386 286 expr $i3 % 64 \; (($i2 % 16) * 4) + ($i3 >> 6) \; (($i1
% 4) * 16) + ($i2 >> 4) \; $i1 >> 2;
#X obj 61 142 % 3;
#X obj 282 377 moses 26;
#X obj 335 404 moses 52;
#X obj 282 404 + 65;
#X obj 335 430 + 71;
#X obj 475 456 - 4;
#X obj 388 456 43;
#X obj 417 456 47;
#X obj 43 258 unpack f f;
#X obj 388 430 select 62 63 64;
#X obj 265 286 expr 64 \; 64 \; ($i1 % 4) * 16 \; $i1 >> 2;
#X obj 43 286 expr 64 \; ($i2 % 16) * 4 \; (($i1 % 4) * 16) + ($i2
>> 4) \; $i1 >> 2;
#X obj 446 456 61;
#X obj 388 493 list prepend;
#X obj 388 519 t l l;
#X obj 25 56 t b b l l b;
#X obj 25 575 list;
#X obj 25 619 outlet;
#X obj 25 14 inlet;
#X text 83 13 encodes any list of bytes in base64;
#X text 344 376 A -> Z;
#X text 399 402 a -> z;
#X text 491 430 + / = and 0 -> 9;
#X text 276 92 convert 3 bytes to 4 x 6 bits;
#X text 479 255 4 x 6 bits;
#X text 301 250 2 x 6 bits \; add ==;
#X text 125 250 3 x 6 bits \; add =;
#X text 122 196 remaining bytes (< 3);
#X obj 43 196 select 2 1;
#N canvas -178 617 174 65 reminder 0;
#X obj 156 26 loadbang;
#X obj 23 141 print;
#X obj 23 69 list tosymbol;
#X obj 23 99 list trim;
#X msg 155 67 13 10 13 10 87 101 98 115 111 99 107 101 116 32 83 101
114 118 101 114 32 105 110 32 97 32 80 97 116 99 104 32 40 99 41 32
50 48 49 54 32 98 121 32 78 105 99 111 108 97 115 32 76 104 111 109
109 101 116 32 40 110 108 104 111 109 109 101 116 64 103 109 97 105
108 46 99 111 109 41 13 10 84 104 105 115 32 112 114 111 103 114 97
109 32 105 115 32 114 101 108 101 97 115 101 100 32 117 110 100 101
114 32 116 104 101 32 67 114 101 97 116 105 118 101 32 67 111 109 109
111 110 115 32 65 116 116 114 105 98 117 116 105 111 110 45 78 111
110 67 111 109 109 101 114 99 105 97 108 45 83 104 97 114 101 65 108
105 107 101 32 52 46 48 32 73 110 116 101 114 110 97 116 105 111 110
97 108 32 40 67 67 32 66 89 45 78 67 45 83 65 32 52 46 48 41 32 108
105 99 101 110 115 101 46 32 89 111 117 32 109 97 121 32 110 111 116
32 117 115 101 32 116 104 101 32 109 97 116 101 114 105 97 108 32 102
111 114 32 99 111 109 109 101 114 99 105 97 108 32 112 117 114 112
111 115 101 115 44 32 105 110 116 101 110 100 101 100 32 102 111 114
32 97 110 121 32 99 111 109 109 101 114 99 105 97 108 32 97 100 118
97 110 116 97 103 101 32 111 114 32 109 111 110 101 116 97 114 121
32 99 111 109 112 101 110 115 97 116 105 111 110 44 32 105 110 99 108
117 100 105 110 103 32 112 117 98 108 105 99 108 121 32 102 117 110
100 101 100 32 97 114 116 105 115 116 105 99 97 108 44 32 101 100 117
99 97 116 105 111 110 97 108 32 111 114 32 112 114 111 109 111 116
105 111 110 97 108 32 97 99 116 105 118 105 116 105 101 115 46 13 10
;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X restore 520 619 pd reminder;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 0 1;
#X connect 1 1 3 1;
#X connect 1 1 4 1;
#X connect 2 0 0 0;
#X connect 2 1 7 0;
#X connect 3 0 17 0;
#X connect 4 0 19 0;
#X connect 5 0 9 0;
#X connect 6 0 37 0;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 7 2 8 2;
#X connect 8 0 10 0;
#X connect 8 1 10 0;
#X connect 8 2 10 0;
#X connect 8 3 10 0;
#X connect 9 0 6 1;
#X connect 10 0 12 0;
#X connect 10 1 11 0;
#X connect 11 0 13 0;
#X connect 11 1 18 0;
#X connect 12 0 22 0;
#X connect 13 0 22 0;
#X connect 14 0 22 0;
#X connect 15 0 22 0;
#X connect 16 0 22 0;
#X connect 17 0 20 0;
#X connect 17 1 20 1;
#X connect 18 0 15 0;
#X connect 18 1 16 0;
#X connect 18 2 21 0;
#X connect 18 3 14 0;
#X connect 19 0 10 0;
#X connect 19 1 10 0;
#X connect 19 2 10 0;
#X connect 19 3 10 0;
#X connect 20 0 10 0;
#X connect 20 1 10 0;
#X connect 20 2 10 0;
#X connect 20 3 10 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 23 0 25 1;
#X connect 23 1 22 1;
#X connect 24 0 25 0;
#X connect 24 1 6 0;
#X connect 24 2 1 0;
#X connect 24 3 5 0;
#X connect 24 4 22 1;
#X connect 25 0 26 0;
#X connect 27 0 24 0;
#X connect 37 0 3 0;
#X connect 37 1 4 0;
#X restore 39 501 pd base64encoder;
#X msg 139 308 \; sha1hash 0 26437 8961 61389 43913 39098 56574 4146
21622 50130 57840;
#X obj 39 216 t b l;
#X obj 39 254 t b b b b b;
#X obj 39 21 inlet;
#X obj 39 552 outlet;
#X obj 39 152 list append 50 53 56 69 65 70 65 53 45 69 57 49 52 45
52 55 68 65 45 57 53 67 65 45 67 53 65 66 48 68 67 56 53 66 49 49;
#X obj 39 90 list split 24;
#X text 150 130 add websocket magic string;
#X text 239 376 <-- SHA1 MAIN LOOP;
#X text 158 501 <- BASE64 ENCODE;
#X obj 151 75 table chunk 160;
#X obj 151 50 table sha1hash 10;
#X obj 151 23 table registers 10;
#X text 287 22 a (0+1) \, b (2+3) \, c (4+5) \, d (6+7) \, e (8+9)
;
#X text 155 289 initialize variables;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 6 0 7 0;
#X connect 6 1 1 0;
#X connect 7 0 3 0;
#X connect 7 1 0 0;
#X connect 7 2 2 0;
#X connect 7 3 0 0;
#X connect 7 4 5 0;
#X connect 8 0 11 0;
#X connect 10 0 6 0;
#X connect 11 0 10 0;
#X restore 104 406 pd websocketresponsekey;
#X obj 104 459 list prepend 83 101 99 45 87 101 98 83 111 99 107 101
116 45 65 99 99 101 112 116 58 32;
#X obj 104 516 list append 13 10;
#X obj 14 21 inlet;
#X obj 176 78 loadbang;
#X obj 104 900 outlet;
#X text 228 515 '<cr><lf>';
#N canvas 139 58 520 743 routelist 0;
#X obj 313 411 list;
#X obj 313 440 list split 1;
#X obj 317 187 list length;
#X obj 176 327 until;
#X obj 176 300 i;
#X obj 59 409 list;
#X obj 59 437 list split 1;
#X obj 176 356 t b b;
#X obj 181 500 ==;
#X obj 181 530 route 0;
#X obj 181 557 t b b;
#X obj 290 152 t l l;
#X obj 111 214 <;
#X obj 111 241 route 1;
#X obj 37 185 list length;
#X obj 336 641 list;
#X obj 63 612 list;
#X obj 149 272 t b b;
#X obj 290 129 list;
#X obj 231 557 t b;
#X obj 61 646 spigot;
#X msg 108 618 1;
#X msg 143 629 0;
#X obj 37 68 t l l b b;
#X obj 61 692 outlet;
#X obj 336 692 outlet;
#X obj 37 20 inlet;
#X obj 311 20 inlet;
#X text 79 668 matching : return rest of line;
#X text 347 664 not found : pass line;
#X text 147 43 compare ascii strings \; (could be better..);
#X connect 0 0 1 0;
#X connect 1 0 8 1;
#X connect 1 1 0 1;
#X connect 2 0 4 1;
#X connect 2 0 12 1;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 1 5 1;
#X connect 6 1 16 1;
#X connect 7 0 5 0;
#X connect 7 1 0 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 1 19 0;
#X connect 10 0 15 0;
#X connect 10 0 22 0;
#X connect 10 1 3 1;
#X connect 11 0 0 1;
#X connect 11 1 2 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 13 1 17 0;
#X connect 14 0 12 0;
#X connect 15 0 25 0;
#X connect 16 0 20 0;
#X connect 17 0 16 0;
#X connect 17 1 4 0;
#X connect 18 0 11 0;
#X connect 20 0 24 0;
#X connect 21 0 20 1;
#X connect 22 0 20 1;
#X connect 23 0 14 0;
#X connect 23 1 15 1;
#X connect 23 1 5 1;
#X connect 23 2 18 0;
#X connect 23 3 21 0;
#X connect 26 0 23 0;
#X connect 27 0 18 1;
#X restore 95 161 pd routelist;
#X text 148 489 'Sec-WebSocket-Accept: ' + processed key;
#X obj 806 23 inlet;
#X msg 185 805 send \$1;
#X obj 104 832 list prepend;
#X obj 455 899 outlet;
#X text 210 640 'HTTP/1.1 101 Web Socket Protocol Handshake' \; 'Upgrade:
websocket' \; 'Connection: Upgrade';
#N canvas 142 56 496 749 routelist 0;
#X obj 313 411 list;
#X obj 313 442 list split 1;
#X obj 317 187 list length;
#X obj 176 327 until;
#X obj 176 300 i;
#X obj 59 409 list;
#X obj 59 437 list split 1;
#X obj 176 356 t b b;
#X obj 181 500 ==;
#X obj 181 530 route 0;
#X obj 181 557 t b b;
#X obj 290 152 t l l;
#X obj 111 214 <;
#X obj 111 241 route 1;
#X obj 37 185 list length;
#X obj 327 641 list;
#X obj 63 612 list;
#X obj 149 272 t b b;
#X obj 290 129 list;
#X obj 231 557 t b;
#X obj 61 646 spigot;
#X msg 108 618 1;
#X msg 143 629 0;
#X obj 37 68 t l l b b;
#X obj 61 692 outlet;
#X obj 327 692 outlet;
#X obj 37 20 inlet;
#X obj 311 20 inlet;
#X text 73 669 matching : return rest of line;
#X text 341 665 not found : pass line;
#X text 135 33 compare ascii strings \; (could be better..);
#X connect 0 0 1 0;
#X connect 1 0 8 1;
#X connect 1 1 0 1;
#X connect 2 0 4 1;
#X connect 2 0 12 1;
#X connect 3 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 1 5 1;
#X connect 6 1 16 1;
#X connect 7 0 5 0;
#X connect 7 1 0 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 9 1 19 0;
#X connect 10 0 15 0;
#X connect 10 0 22 0;
#X connect 10 1 3 1;
#X connect 11 0 0 1;
#X connect 11 1 2 0;
#X connect 12 0 13 0;
#X connect 13 0 15 0;
#X connect 13 1 17 0;
#X connect 14 0 12 0;
#X connect 15 0 25 0;
#X connect 16 0 20 0;
#X connect 17 0 16 0;
#X connect 17 1 4 0;
#X connect 18 0 11 0;
#X connect 20 0 24 0;
#X connect 21 0 20 1;
#X connect 22 0 20 1;
#X connect 23 0 14 0;
#X connect 23 1 15 1;
#X connect 23 1 5 1;
#X connect 23 2 18 0;
#X connect 23 3 21 0;
#X connect 26 0 23 0;
#X connect 27 0 18 1;
#X restore 781 276 pd routelist;
#X msg 862 248 71 69 84 32 47;
#X text 267 99 intercept "Sec-WebSocket-Key: " line;
#X obj 756 357 list;
#X msg 176 119 83 101 99 45 87 101 98 83 111 99 107 101 116 45 75 101
121 58 32;
#N canvas 140 56 760 800 webserver 0;
#X obj 88 139 t b;
#X obj 88 109 route 32;
#X obj 21 21 inlet;
#X obj 21 75 route bang;
#X obj 141 746 outlet;
#X obj 141 139 t b;
#X obj 323 361 int;
#X obj 323 338 / 10;
#X obj 323 384 select 0;
#X obj 368 408 t f b;
#X obj 323 291 t f b;
#X obj 411 338 % 10;
#X obj 323 314 t f f;
#X obj 411 362 + 48;
#X obj 411 408 t l l;
#X obj 323 438 list;
#X obj 411 384 list append;
#X obj 323 468 list prepend 67 111 110 116 101 110 116 45 76 101 110
103 116 104 58 32;
#X obj 323 508 list append 13 10 13 10;
#X obj 242 539 list prepend;
#X obj 242 238 t l l;
#X obj 323 266 list length;
#X obj 242 193 list;
#X obj 267 23 inlet;
#N canvas 185 97 499 692 favicon 0;
#X msg 31 98 72 84 84 80 47 49 46 48 32 50 48 48 32 79 75 13 10 67
111 110 110 101 99 116 105 111 110 58 32 75 101 101 112 45 65 108 105
118 101 13 10 67 111 110 116 101 110 116 45 76 101 110 103 116 104
58 32 49 52 54 54 13 10 67 111 110 116 101 110 116 45 84 121 112 101
58 32 105 109 97 103 101 47 112 110 103 13 10 13 10 0 0 1 0 1 0 48
48 0 0 1 0 8 0 164 5 0 0 22 0 0 0 137 80 78 71 13 10 26 10 0 0 0 13
73 72 68 82 0 0 0 48 0 0 0 48 8 3 0 0 0 96 220 9 181 0 0 3 0 80 76
84 69 215 215 215 243 243 243 229 229 229 106 107 106 130 131 130 26
35 30 189 189 189 77 79 78 161 161 161 0 203 89 0 239 97 0 158 68 0
102 36 249 249 249 236 236 236 255 255 255 16 16 16 17 17 17 18 18
18 19 19 19 20 20 20 21 21 21 22 22 22 23 23 23 24 24 24 25 25 25 26
26 26 27 27 27 28 28 28 29 29 29 30 30 30 31 31 31 32 32 32 33 33 33
34 34 34 35 35 35 36 36 36 37 37 37 38 38 38 39 39 39 40 40 40 41 41
41 42 42 42 43 43 43 44 44 44 45 45 45 46 46 46 47 47 47 48 48 48 49
49 49 50 50 50 51 51 51 52 52 52 53 53 53 54 54 54 55 55 55 56 56 56
57 57 57 58 58 58 59 59 59 60 60 60 61 61 61 62 62 62 63 63 63 64 64
64 65 65 65 66 66 66 67 67 67 68 68 68 69 69 69 70 70 70 71 71 71 72
72 72 73 73 73 74 74 74 75 75 75 76 76 76 77 77 77 78 78 78 79 79 79
80 80 80 81 81 81 82 82 82 83 83 83 84 84 84 85 85 85 86 86 86 87 87
87 88 88 88 89 89 89 90 90 90 91 91 91 92 92 92 93 93 93 94 94 94 95
95 95 96 96 96 97 97 97 98 98 98 99 99 99 100 100 100 101 101 101 102
102 102 103 103 103 104 104 104 105 105 105 106 106 106 107 107 107
108 108 108 109 109 109 110 110 110 111 111 111 112 112 112 113 113
113 114 114 114 115 115 115 116 116 116 117 117 117 118 118 118 119
119 119 120 120 120 121 121 121 122 122 122 123 123 123 124 124 124
125 125 125 126 126 126 127 127 127 128 128 128 129 129 129 130 130
130 131 131 131 132 132 132 133 133 133 134 134 134 135 135 135 136
136 136 137 137 137 138 138 138 139 139 139 140 140 140 141 141 141
142 142 142 143 143 143 144 144 144 145 145 145 146 146 146 147 147
147 148 148 148 149 149 149 150 150 150 151 151 151 152 152 152 153
153 153 154 154 154 155 155 155 156 156 156 157 157 157 158 158 158
159 159 159 160 160 160 161 161 161 162 162 162 163 163 163 164 164
164 165 165 165 166 166 166 167 167 167 168 168 168 169 169 169 170
170 170 171 171 171 172 172 172 173 173 173 174 174 174 175 175 175
176 176 176 177 177 177 178 178 178 179 179 179 180 180 180 181 181
181 182 182 182 183 183 183 184 184 184 185 185 185 186 186 186 187
187 187 188 188 188 189 189 189 190 190 190 191 191 191 192 192 192
193 193 193 194 194 194 195 195 195 196 196 196 197 197 197 198 198
198 199 199 199 200 200 200 201 201 201 202 202 202 203 203 203 204
204 204 205 205 205 206 206 206 207 207 207 208 208 208 209 209 209
210 210 210 211 211 211 212 212 212 213 213 213 214 214 214 215 215
215 216 216 216 217 217 217 218 218 218 219 219 219 220 220 220 221
221 221 222 222 222 223 223 223 224 224 224 225 225 225 226 226 226
227 227 227 228 228 228 229 229 229 230 230 230 231 231 231 232 232
232 233 233 233 234 234 234 235 235 235 236 236 236 237 237 237 238
238 238 239 239 239 240 240 240 241 241 241 242 242 242 243 243 243
244 244 244 245 245 245 246 246 246 247 247 247 248 248 248 249 249
249 250 250 250 251 251 251 252 252 252 253 253 253 254 254 254 255
255 255 126 105 64 253 0 0 0 9 112 72 89 115 0 0 11 19 0 0 11 19 1
0 154 156 24 0 0 2 74 73 68 65 84 72 137 189 85 219 182 234 32 12 12
33 36 244 66 250 255 127 123 134 80 171 118 239 109 235 203 25 186
170 11 153 76 110 68 218 190 4 253 39 130 187 167 128 123 187 67 32
91 36 27 128 119 189 67 168 235 188 150 210 159 105 177 11 137 32 200
50 175 203 60 207 203 186 76 230 219 71 202 174 16 231 231 121 90 215
149 218 37 33 229 178 226 48 48 47 197 52 93 17 26 8 203 78 152 74
185 71 152 226 60 0 194 231 204 30 10 79 194 45 133 61 134 169 199
112 67 65 144 156 112 106 177 245 22 33 163 14 40 193 146 87 153 110
197 32 101 89 74 199 186 220 82 240 106 229 64 86 190 36 48 105 205
37 75 71 85 242 79 231 163 210 206 206 53 87 82 85 34 254 120 124 16
154 67 193 164 14 232 31 160 118 184 180 105 191 8 120 134 87 103 88
14 24 69 27 7 161 26 51 177 34 65 0 159 64 89 186 125 197 213 58 8
2 127 96 42 119 27 143 53 158 222 234 50 132 139 120 58 234 96 20 94
122 242 95 192 35 6 203 212 187 44 234 32 185 135 211 122 186 222 16
83 193 119 181 78 216 158 132 22 103 219 187 4 146 204 169 197 215
198 191 16 144 94 122 181 207 185 84 39 13 202 246 66 216 82 16 90
35 4 6 62 2 109 225 73 171 37 111 216 99 8 135 66 123 33 108 27 215
82 80 53 20 28 69 111 14 186 80 206 12 43 86 209 45 103 66 111 64 164
149 123 27 90 49 74 138 55 90 209 91 83 244 153 38 16 248 65 104 146
155 224 110 246 145 137 115 21 37 52 50 83 142 220 195 122 215 246
147 66 152 105 9 134 164 151 190 136 105 159 63 153 145 90 180 178
16 189 43 192 56 108 131 2 203 180 17 70 172 213 134 153 11 151 194
148 255 136 1 81 114 53 171 8 162 79 101 117 41 232 55 184 34 216 68
125 210 89 1 117 72 78 162 48 164 232 182 228 157 46 184 37 181 82
252 11 208 89 161 87 26 63 40 50 196 163 167 120 111 221 81 197 31
10 113 28 219 112 73 219 94 234 215 178 191 43 200 184 126 105 116
230 163 5 121 172 128 159 20 136 112 69 168 183 39 54 211 142 93 162
115 232 77 161 87 45 160 127 221 124 180 87 122 81 216 242 49 147 206
168 99 97 52 160 17 15 66 170 229 6 76 14 151 92 197 6 242 219 26 31
251 11 245 121 102 137 181 94 67 199 140 139 24 18 210 112 9 30 67
154 30 105 184 198 115 84 126 133 175 9 255 0 35 195 94 127 163 236
191 0 0 0 0 0 73 69 78 68 174 66 96 130;
#X obj 31 24 inlet;
#X obj 31 1379 outlet;
#X text 139 64 favicon hexadecimal;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X restore 141 193 pd favicon;
#X text 285 192 <- stores webpage;
#X obj 242 567 list prepend 72 84 84 80 47 49 46 49 32 50 48 48 32
79 75 13 10 67 111 110 110 101 99 116 105 111 110 58 32 99 108 111
115 101 13 10 67 97 99 104 101 45 67 111 110 116 114 111 108 58 32
110 111 45 99 97 99 104 101 44 32 110 111 45 115 116 111 114 101 13
10 69 120 112 105 114 101 115 58 32 87 101 100 44 32 48 56 32 65 117
103 32 49 57 55 51 32 49 55 58 48 48 58 48 48 32 71 77 84 13 10 67
111 110 116 101 110 116 45 84 121 112 101 58 32 116 101 120 116 47
104 116 109 108 13 10;
#X text 496 445 http header 'content length';
#X text 483 545 other http headers;
#X connect 0 0 22 0;
#X connect 1 0 0 0;
#X connect 1 1 5 0;
#X connect 2 0 3 0;
#X connect 3 1 1 0;
#X connect 5 0 24 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 8 0 15 0;
#X connect 8 1 9 0;
#X connect 9 0 12 0;
#X connect 10 0 12 0;
#X connect 10 1 16 1;
#X connect 11 0 13 0;
#X connect 12 0 7 0;
#X connect 12 1 11 0;
#X connect 13 0 16 0;
#X connect 14 0 15 1;
#X connect 14 1 16 1;
#X connect 15 0 17 0;
#X connect 16 0 14 0;
#X connect 17 0 18 0;
#X connect 18 0 19 1;
#X connect 19 0 26 0;
#X connect 20 0 19 0;
#X connect 20 1 21 0;
#X connect 21 0 10 0;
#X connect 22 0 20 0;
#X connect 23 0 22 1;
#X connect 24 0 4 0;
#X connect 26 0 4 0;
#X restore 756 390 pd webserver;
#X obj 185 543 loadbang;
#X obj 104 663 list prepend;
#X obj 104 703 list append 13 10;
#X msg 185 569 72 84 84 80 47 49 46 49 32 49 48 49 32 87 101 98 32
83 111 99 107 101 116 32 80 114 111 116 111 99 111 108 32 72 97 110
100 115 104 97 107 101 13 10 85 112 103 114 97 100 101 58 32 119 101
98 115 111 99 107 101 116 13 10 67 111 110 110 101 99 116 105 111 110
58 32 85 112 103 114 97 100 101 13 10;
#X obj 756 566 list prepend;
#X text 251 405 <- PROCESS WEBSOCKET RESPONSE KEY;
#X text 846 390 <- WEB SERVER;
#X text 232 702 final'<cr><lf>' (empty line);
#X text 849 228 intercept "GET /" line;
#X obj 602 23 inlet;
#N canvas 135 63 396 392 splitline 0;
#X obj 43 81 route 10 13;
#X obj 117 134 t l l;
#X obj 92 185 list;
#X obj 117 107 list prepend;
#X obj 43 24 inlet;
#X obj 160 308 outlet;
#X obj 93 211 t l b;
#X obj 93 247 route bang;
#X obj 93 308 outlet;
#X connect 0 0 2 0;
#X connect 0 2 3 0;
#X connect 1 0 2 1;
#X connect 1 1 3 1;
#X connect 2 0 6 0;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X connect 6 0 7 0;
#X connect 6 1 3 1;
#X connect 6 1 2 1;
#X connect 7 0 8 0;
#X connect 7 1 5 0;
#X restore 14 78 pd splitline;
#X obj 14 198 list;
#X obj 14 225 route bang;
#X obj 756 480 t l b;
#X obj 788 508 i;
#X msg 837 540 send \$1;
#X obj 104 748 t l b;
#X obj 185 776 i;
#X obj 788 896 outlet;
#X text 837 896 other http responses;
#X obj 756 606 t b l;
#X msg 682 731 list client;
#X text 57 21 HTTP requests;
#X text 545 22 webpage;
#X text 847 22 current socket;
#X text 150 899 'handshake' response (and socket number ->);
#X text 118 381 WEBSOCKET HANDSHAKE;
#X obj 104 345 list;
#X obj 140 251 list length;
#X obj 546 448 print websocket-server;
#X obj 546 401 t b b;
#X obj 104 322 select 1;
#X obj 81 251 t b b l;
#X obj 140 224 r websockets-list;
#X obj 104 276 i;
#X obj 104 299 < 24;
#X msg 546 424 connections limit reached (max 24);
#X obj 682 760 t b l;
#X obj 682 834 list;
#X obj 682 811 select 1;
#X text 318 731 send 'client' message to [iemnet/tcpserver] only ->
socket-list will be received from its 5th outlet' \; (see [pd dispatch-sockets]
in upper abstraction);
#X obj 682 787 i;
#X obj 725 760 r iemnet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 21 0;
#X connect 3 0 30 0;
#X connect 4 0 18 0;
#X connect 4 0 15 0;
#X connect 7 0 31 1;
#X connect 7 1 14 0;
#X connect 9 0 34 1;
#X connect 9 0 37 1;
#X connect 10 0 11 1;
#X connect 11 0 5 0;
#X connect 14 0 17 1;
#X connect 15 0 14 1;
#X connect 17 0 19 0;
#X connect 18 0 7 1;
#X connect 19 0 33 0;
#X connect 20 0 23 0;
#X connect 21 0 22 0;
#X connect 22 0 36 0;
#X connect 23 0 21 1;
#X connect 24 0 40 0;
#X connect 29 0 19 1;
#X connect 30 0 31 0;
#X connect 30 1 7 0;
#X connect 31 0 32 0;
#X connect 32 0 17 0;
#X connect 32 1 52 0;
#X connect 33 0 24 0;
#X connect 33 1 34 0;
#X connect 34 0 35 0;
#X connect 35 0 24 1;
#X connect 36 0 11 0;
#X connect 36 1 37 0;
#X connect 37 0 10 0;
#X connect 37 0 12 0;
#X connect 40 0 41 0;
#X connect 40 1 38 0;
#X connect 41 0 57 0;
#X connect 47 0 0 0;
#X connect 48 0 54 1;
#X connect 50 0 56 0;
#X connect 50 1 41 0;
#X connect 51 0 47 0;
#X connect 51 1 50 0;
#X connect 52 0 31 1;
#X connect 52 1 54 0;
#X connect 52 2 47 1;
#X connect 53 0 48 0;
#X connect 54 0 55 0;
#X connect 55 0 51 0;
#X connect 56 0 49 0;
#X connect 57 0 61 0;
#X connect 57 1 58 1;
#X connect 58 0 38 0;
#X connect 59 0 58 0;
#X connect 61 0 59 0;
#X connect 62 0 61 1;
#X restore 341 187 pd websocket-http;
#X text 663 294 detects disconnections;
#X text 443 286 add to websocket list;
#X text 757 338 removes socket from \; websocket clients list;
#X text 1072 565 output connected \; websockets list ->;
#X text 1137 175 current websockets list;
#X text 420 130 route websockets/http;
#X text 842 574 active client socket ->;
#X text 687 569 number of connected \; <- websocket clients;
#N canvas 93 50 1133 790 dispatch-sockets 0;
#X obj 27 320 route;
#X obj 59 342 route;
#X obj 91 364 route;
#X obj 123 386 route;
#X obj 423 119 loadbang;
#X obj 381 211 list append;
#X obj 423 148 t b b;
#X obj 841 740 outlet;
#X obj 27 24 inlet;
#X obj 78 24 inlet;
#X obj 155 408 route;
#X obj 187 430 route;
#X obj 219 452 route;
#X obj 251 474 route;
#X obj 27 133 pack f f;
#X obj 27 107 i;
#X obj 27 82 t b f;
#X obj 827 513 unpack f f;
#X obj 186 24 inlet;
#X obj 186 81 route client;
#X obj 253 135 list append -1;
#X obj 894 539 route -1;
#X obj 827 618 spigot;
#X obj 186 107 unpack f f;
#X obj 947 567 t b f;
#X obj 866 593 1;
#X obj 896 593 0;
#X obj 914 513 loadbang;
#X obj 827 644 t b f;
#X obj 289 666 route -1;
#X obj 342 739 outlet;
#X msg 939 686 list disconnectsocket \$1;
#X obj 939 740 outlet;
#X obj 295 313 route;
#X obj 327 335 route;
#X obj 359 357 route;
#X obj 391 379 route;
#X obj 423 401 route;
#X obj 455 423 route;
#X obj 487 445 route;
#X obj 519 467 route;
#X obj 571 315 route;
#X obj 603 337 route;
#X obj 635 359 route;
#X obj 667 381 route;
#X obj 699 403 route;
#X obj 731 425 route;
#X obj 763 447 route;
#X obj 795 469 route;
#X obj 381 79 r websockets-list;
#X text 989 739 to 'send buffer';
#X obj 381 261 unpack f f f f f f f f f f f f f f f f f f f f f f f
f;
#X obj 381 236 list split 24;
#X msg 455 173 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1 -1
-1 -1 -1 -1 -1 -1;
#X text 766 261 set 'route' objets to web-sockets numbers;
#X text 620 77 (sequential to avoid list recursion stack-overflows)
;
#X text 493 147 unallocated 'route' objects get '-1' value;
#X text 152 152 trick to use same path to \; disconnect all 'non-websockets'
;
#X text 628 741 http connection \, to webserver;
#X text 68 738 connected websocket \, to websocket-data;
#X text 481 235 (max: 24 websocket connections);
#X text 35 262 dispatch websockets/http connections;
#X text 939 640 disconnect all unused \; sockets keeped 'alive' \;
by [iemnet/tcpserver];
#X text 230 24 list of sockets (from [iemnet/tcpserver] only);
#X text 632 55 ROUTE WEBSOCKETS/HTTP & DISCONNECT HTTP SOCKETS;
#X text 29 48 websocket bytestream;
#X connect 0 0 29 0;
#X connect 0 1 1 0;
#X connect 1 0 29 0;
#X connect 1 1 2 0;
#X connect 2 0 29 0;
#X connect 2 1 3 0;
#X connect 3 0 29 0;
#X connect 3 1 10 0;
#X connect 4 0 6 0;
#X connect 5 0 52 0;
#X connect 6 0 5 0;
#X connect 6 1 53 0;
#X connect 8 0 16 0;
#X connect 9 0 15 1;
#X connect 10 0 29 0;
#X connect 10 1 11 0;
#X connect 11 0 29 0;
#X connect 11 1 12 0;
#X connect 12 0 29 0;
#X connect 12 1 13 0;
#X connect 13 0 29 0;
#X connect 13 1 33 0;
#X connect 14 0 0 0;
#X connect 15 0 14 0;
#X connect 16 0 15 0;
#X connect 16 1 14 1;
#X connect 17 0 22 0;
#X connect 17 1 21 0;
#X connect 18 0 19 0;
#X connect 19 0 23 0;
#X connect 20 0 0 0;
#X connect 21 0 25 0;
#X connect 21 1 24 0;
#X connect 22 0 28 0;
#X connect 23 1 20 0;
#X connect 24 0 26 0;
#X connect 24 1 7 0;
#X connect 25 0 22 1;
#X connect 26 0 22 1;
#X connect 27 0 26 0;
#X connect 28 0 26 0;
#X connect 28 1 31 0;
#X connect 29 1 30 0;
#X connect 31 0 32 0;
#X connect 33 0 29 0;
#X connect 33 1 34 0;
#X connect 34 0 29 0;
#X connect 34 1 35 0;
#X connect 35 0 29 0;
#X connect 35 1 36 0;
#X connect 36 0 29 0;
#X connect 36 1 37 0;
#X connect 37 0 29 0;
#X connect 37 1 38 0;
#X connect 38 0 29 0;
#X connect 38 1 39 0;
#X connect 39 0 29 0;
#X connect 39 1 40 0;
#X connect 40 0 29 0;
#X connect 40 1 41 0;
#X connect 41 0 29 0;
#X connect 41 1 42 0;
#X connect 42 0 29 0;
#X connect 42 1 43 0;
#X connect 43 0 29 0;
#X connect 43 1 44 0;
#X connect 44 0 29 0;
#X connect 44 1 45 0;
#X connect 45 0 29 0;
#X connect 45 1 46 0;
#X connect 46 0 29 0;
#X connect 46 1 47 0;
#X connect 47 0 29 0;
#X connect 47 1 48 0;
#X connect 48 0 29 0;
#X connect 48 1 17 0;
#X connect 49 0 5 0;
#X connect 51 0 0 1;
#X connect 51 1 1 1;
#X connect 51 2 2 1;
#X connect 51 3 3 1;
#X connect 51 4 10 1;
#X connect 51 5 11 1;
#X connect 51 6 12 1;
#X connect 51 7 13 1;
#X connect 51 8 33 1;
#X connect 51 9 34 1;
#X connect 51 10 35 1;
#X connect 51 11 36 1;
#X connect 51 12 37 1;
#X connect 51 13 38 1;
#X connect 51 14 39 1;
#X connect 51 15 40 1;
#X connect 51 16 41 1;
#X connect 51 17 42 1;
#X connect 51 18 43 1;
#X connect 51 19 44 1;
#X connect 51 20 45 1;
#X connect 51 21 46 1;
#X connect 51 22 47 1;
#X connect 51 23 48 1;
#X connect 52 0 51 0;
#X connect 53 0 5 1;
#X restore 276 130 pd dispatch-sockets;
#X text 680 20 to tcpserver outlet 2 (number of connections);
#X text 1066 20 to tcpserver outlet 3 (current socket);
#X text 1087 51 to tcpserver outlet 5 (for socket list);
#X obj 341 313 t b;
#N canvas 92 55 649 605 detect_mrpeach/iemnet 0;
#X obj 83 464 list split 1;
#X obj 32 325 t b l b;
#X obj 150 494 list;
#X obj 32 19 inlet;
#X obj 171 563 outlet;
#X obj 83 493 t b f;
#X obj 118 390 list;
#X obj 51 389 t b l;
#X obj 32 413 list;
#X obj 83 439 t l;
#X obj 51 354 list split 100;
#X obj 32 65 t l l;
#X obj 85 95 list length;
#X obj 112 253 0;
#X obj 85 253 1;
#X obj 210 253 0;
#X obj 183 253 1;
#X obj 32 288 spigot 1;
#X obj 130 287 spigot 0;
#X obj 85 148 == 1;
#X obj 85 122 change;
#X obj 85 176 select 0 1;
#X obj 32 218 t l;
#X obj 156 218 t b b b;
#X obj 254 253 0;
#X obj 281 253 1;
#X obj 85 218 t b b b;
#X text 154 350 split incoming data list to \; prevent stack overlflows
;
#X text 171 459 split list to bytes \; for stream-based operations
;
#X text 318 286 <- this will change some operations \; behaviour in
[pd send-buffer] \; and [pd websocket-http];
#X text 189 39 tcpserver externals output incoming messages differently:
mrpeach/tcpserver outputs lists \; iemnet/tcpserver outputs stream
of bytes \; detect [iemnet/tcpserver] when incoming list length ==
1;
#X text 210 217 when mrpeach/tcpserver is used \, output lists as single
bytes;
#X obj 254 287 s iemnet;
#X text 316 253 <- iemnet detected;
#X connect 0 0 5 0;
#X connect 0 1 2 1;
#X connect 1 0 8 0;
#X connect 1 1 10 0;
#X connect 2 0 0 0;
#X connect 3 0 11 0;
#X connect 5 0 2 0;
#X connect 5 1 4 0;
#X connect 6 0 10 0;
#X connect 7 0 6 0;
#X connect 7 1 9 0;
#X connect 8 0 9 0;
#X connect 9 0 0 0;
#X connect 10 0 7 0;
#X connect 10 1 6 1;
#X connect 10 2 8 1;
#X connect 11 0 22 0;
#X connect 11 1 12 0;
#X connect 12 0 20 0;
#X connect 13 0 17 1;
#X connect 14 0 17 1;
#X connect 15 0 18 1;
#X connect 16 0 18 1;
#X connect 17 0 1 0;
#X connect 18 0 4 0;
#X connect 19 0 21 0;
#X connect 20 0 19 0;
#X connect 21 0 26 0;
#X connect 21 1 23 0;
#X connect 22 0 17 0;
#X connect 22 0 18 0;
#X connect 23 0 13 0;
#X connect 23 1 16 0;
#X connect 23 2 25 0;
#X connect 24 0 32 0;
#X connect 25 0 32 0;
#X connect 26 0 14 0;
#X connect 26 1 15 0;
#X connect 26 2 24 0;
#X restore 276 92 pd detect_mrpeach/iemnet;
#N canvas 88 50 846 937 websocket-send 0;
#X obj 22 19 inlet;
#X obj 40 647 list;
#X obj 107 698 list split 1;
#X obj 107 774 route bang;
#X obj 107 750 list;
#X obj 139 822 list append;
#X obj 40 672 route bang;
#X msg 139 798 send \$1;
#X obj 235 889 outlet;
#X obj 107 725 t b f;
#X obj 270 70 list split 1;
#X obj 301 124 list;
#X msg 316 573 send \$1;
#X obj 301 149 route bang;
#X obj 235 600 list prepend;
#N canvas 141 90 546 568 message-length-header 0;
#X obj 35 15 inlet;
#X obj 36 429 list prepend;
#X obj 165 340 list prepend 126;
#X obj 36 139 t l l;
#X obj 105 172 list length;
#X obj 105 200 moses 126;
#X obj 165 273 expr $i1 / 256 \; $i1 % 256;
#X obj 165 312 pack f f;
#X obj 35 65 list split 1;
#X obj 36 113 list;
#X obj 35 90 t b f;
#X obj 36 458 list prepend;
#X obj 36 522 outlet;
#X obj 289 274 expr ($i1 >> 24) % 256 \; ($i1 >> 16) % 256 \; ($i1
>> 8) % 256 \; $i1 % 256 \;;
#X obj 289 340 pack f f f f;
#X obj 289 367 list prepend 127 0 0 0 0;
#X obj 165 247 moses 65536;
#X text 168 229 16bit;
#X text 112 228 8bit;
#X text 291 226 64bit (but pd limit is 20bit);
#X text 174 199 V websocket 'extended payload length' V;
#X connect 0 0 8 0;
#X connect 1 0 11 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 1 1;
#X connect 5 1 16 0;
#X connect 6 0 7 0;
#X connect 6 1 7 1;
#X connect 7 0 2 0;
#X connect 8 0 10 0;
#X connect 8 1 9 1;
#X connect 9 0 3 0;
#X connect 10 0 9 0;
#X connect 10 1 11 1;
#X connect 11 0 12 0;
#X connect 13 0 14 0;
#X connect 13 1 14 1;
#X connect 13 2 14 2;
#X connect 13 3 14 3;
#X connect 14 0 15 0;
#X connect 15 0 1 1;
#X connect 16 0 6 0;
#X connect 16 1 13 0;
#X restore 368 479 pd message-length-header;
#X obj 270 21 inlet;
#X text 63 20 <- broadcast;
#X text 311 21 <- send to client;
#X obj 22 69 route bang;
#X text 544 480 <- WEBSOCKET DATA LENGTH;
#X obj 40 521 list prepend;
#X msg 198 481 send;
#X msg 121 481 broadcast;
#X obj 40 570 route broadcast send;
#X obj 40 545 list trim;
#X obj 89 98 t a b;
#X obj 270 98 t b b f;
#X obj 368 308 list prepend 129;
#X obj 407 333 list prepend 130;
#X obj 433 197 t b;
#X msg 433 224 specify 'text' or 'binary' before data;
#X obj 433 252 print websocket-server;
#X text 77 642 BROADCAST : send to \; all websockets clients;
#X obj 524 408 list prepend 138;
#X obj 65 624 r websockets-list;
#X obj 40 600 t b a;
#X obj 368 174 list trim;
#X obj 468 23 inlet;
#X obj 468 70 t b;
#X msg 468 197 specify "broadcast' or 'send <socket>';
#X obj 516 140 route float;
#X obj 368 445 t l l;
#X obj 516 117 list split 1;
#X obj 368 283 route text binary close ping pong;
#X obj 446 358 list prepend 136;
#X obj 485 383 list prepend 137;
#X text 606 284 <- message type;
#X msg 483 171 ascii-codes list only (use [list fromsymbol]);
#X connect 0 0 19 0;
#X connect 1 0 6 0;
#X connect 2 0 9 0;
#X connect 2 1 4 1;
#X connect 3 1 2 0;
#X connect 4 0 3 0;
#X connect 5 0 8 0;
#X connect 6 1 2 0;
#X connect 7 0 5 0;
#X connect 9 0 4 0;
#X connect 9 1 7 0;
#X connect 10 0 27 0;
#X connect 10 1 11 1;
#X connect 11 0 13 0;
#X connect 12 0 14 1;
#X connect 13 1 37 0;
#X connect 14 0 8 0;
#X connect 15 0 21 0;
#X connect 16 0 10 0;
#X connect 19 1 26 0;
#X connect 21 0 25 0;
#X connect 22 0 21 1;
#X connect 23 0 21 1;
#X connect 24 0 36 0;
#X connect 24 1 14 0;
#X connect 25 0 24 0;
#X connect 26 0 44 0;
#X connect 26 1 23 0;
#X connect 27 0 11 0;
#X connect 27 1 22 0;
#X connect 27 2 12 0;
#X connect 28 0 42 0;
#X connect 29 0 42 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 34 0 42 0;
#X connect 35 0 1 1;
#X connect 36 0 1 0;
#X connect 36 1 5 1;
#X connect 37 0 44 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 32 0;
#X connect 41 1 48 0;
#X connect 42 0 15 0;
#X connect 43 0 41 0;
#X connect 44 0 28 0;
#X connect 44 1 29 0;
#X connect 44 2 43 0;
#X connect 44 2 45 0;
#X connect 44 3 43 0;
#X connect 44 3 46 0;
#X connect 44 4 43 0;
#X connect 44 4 34 0;
#X connect 44 5 30 0;
#X connect 45 0 42 0;
#X connect 46 0 42 0;
#X connect 48 0 32 0;
#X restore 28 189 pd websocket-send;
#X text 319 20 connect to tcpserver outlet 1 (data output);
#X text 1087 116 WEBSOCKET-SERVER MAIN WINDOW;
#X text 77 575 <- send to tcpserver inlet;
#N canvas 231 50 474 375 stream-to-list 0;
#X obj 200 164 t b;
#X obj 59 75 route bang float;
#X obj 59 259 list trim;
#X obj 59 23 inlet;
#X obj 59 231 list;
#X obj 84 195 t l l;
#X obj 84 164 list prepend;
#X obj 59 316 outlet;
#X obj 168 105 t a b;
#X text 148 38 Put websocket messages in lists;
#X connect 0 0 4 1;
#X connect 0 0 6 1;
#X connect 1 0 4 0;
#X connect 1 1 6 0;
#X connect 1 2 8 0;
#X connect 2 0 7 0;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 5 1 6 1;
#X connect 6 0 5 0;
#X connect 8 0 6 0;
#X connect 8 1 0 0;
#X restore 314 485 pd stream-to-list;
#X text 321 506 ^ except this tiny thing \, this is all the exact same
websocket-server subpatch than in 2014 original release \, just with
some cosmetic object alignements for pd vanilla;
#X connect 0 0 25 0;
#X connect 1 0 10 1;
#X connect 1 0 14 1;
#X connect 1 0 35 2;
#X connect 1 0 17 1;
#X connect 1 0 44 1;
#X connect 2 0 49 0;
#X connect 5 0 6 1;
#X connect 6 0 8 0;
#X connect 7 0 5 1;
#X connect 7 0 6 0;
#X connect 7 1 5 0;
#X connect 8 0 10 0;
#X connect 9 0 7 0;
#X connect 10 0 15 0;
#X connect 12 0 13 0;
#X connect 13 0 48 0;
#X connect 14 0 3 0;
#X connect 15 0 29 0;
#X connect 15 1 14 0;
#X connect 17 0 33 0;
#X connect 17 1 54 0;
#X connect 17 2 26 0;
#X connect 17 3 3 0;
#X connect 18 0 12 0;
#X connect 18 1 33 0;
#X connect 19 0 26 0;
#X connect 25 1 20 0;
#X connect 26 0 27 0;
#X connect 27 0 50 0;
#X connect 27 1 50 1;
#X connect 27 2 35 1;
#X connect 27 3 50 2;
#X connect 29 0 11 0;
#X connect 30 0 29 1;
#X connect 31 0 30 0;
#X connect 32 0 44 2;
#X connect 33 0 16 0;
#X connect 35 0 18 0;
#X connect 35 1 12 1;
#X connect 35 2 33 0;
#X connect 44 0 17 0;
#X connect 44 1 35 0;
#X connect 44 2 33 0;
#X connect 48 0 15 0;
#X connect 49 0 44 0;
#X connect 50 0 33 0;
#X connect 54 0 4 0;
#X restore 132 133 pd websocket-server;
#X obj 262 179 print WEBSOCKETS LIST;
#N canvas 233 50 973 634 HOWTO-SEND 0;
#X obj 467 594 outlet;
#X obj 31 595 outlet;
#X text 78 594 <- nothing here :);
#N canvas 349 229 596 316 html-example 0;
#N canvas 204 100 418 579 html-color 0;
#X msg 111 297 a;
#X msg 141 297 b;
#X msg 170 297 c;
#X msg 199 297 d;
#X msg 228 297 e;
#X obj 111 270 route 10 11 12 13 14 15;
#X msg 257 297 f;
#X obj 111 242 div 16;
#X obj 157 241 mod 16;
#X obj 111 214 t f f;
#X obj 111 368 pack s s;
#X msg 167 342 symbol;
#X msg 111 395 symbol \$1\$2;
#X obj 72 422 symbol;
#X obj 72 25 inlet;
#X obj 72 120 pack f f f;
#X obj 122 25 inlet;
#X obj 122 80 t b f;
#X obj 172 25 inlet;
#X obj 172 80 t b f;
#X obj 95 179 unpack f f f;
#X obj 72 149 t b a b;
#X obj 72 527 outlet;
#X obj 111 342 symbol;
#X obj 294 297 makefilename %d;
#X connect 0 0 23 0;
#X connect 1 0 23 0;
#X connect 2 0 23 0;
#X connect 3 0 23 0;
#X connect 4 0 23 0;
#X connect 5 0 0 0;
#X connect 5 1 1 0;
#X connect 5 2 2 0;
#X connect 5 3 3 0;
#X connect 5 4 4 0;
#X connect 5 5 6 0;
#X connect 5 6 24 0;
#X connect 6 0 23 0;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 9 0 7 0;
#X connect 9 1 8 0;
#X connect 10 0 12 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 12 0 13 1;
#X connect 13 0 22 0;
#X connect 14 0 15 0;
#X connect 15 0 21 0;
#X connect 16 0 17 0;
#X connect 17 0 15 0;
#X connect 17 1 15 1;
#X connect 18 0 19 0;
#X connect 19 0 15 0;
#X connect 19 1 15 2;
#X connect 20 0 9 0;
#X connect 20 1 9 0;
#X connect 20 2 9 0;
#X connect 21 0 13 0;
#X connect 21 1 20 0;
#X connect 21 2 11 0;
#X connect 23 0 10 0;
#X connect 24 0 23 0;
#X restore 211 65 pd html-color;
#X msg 112 88 symbol \$1px;
#X msg 199 88 symbol #\$1;
#X obj 102 65 i;
#X obj 167 65 t b s;
#X obj 112 149 pack s s;
#X symbolatom 112 115 10 0 0 0 - - - 0;
#X symbolatom 199 114 10 0 0 0 - - - 0;
#X text 181 149 V send html/css code straight to demo page V;
#X text 141 14 size;
#X text 339 15 colors;
#X msg 112 179 send-html <span style="font-size: \$1 &#59 color: \$2
&#59"> hey! </span>;
#X obj 112 277 outlet;
#X text 3 181 you can change \; text here ---->;
#X text 266 114 font-size and color css-properties with units;
#X obj 102 15 inlet;
#X obj 211 15 inlet;
#X obj 255 15 inlet;
#X obj 299 15 inlet;
#N canvas 617 432 298 323 show-message 0;
#X obj 79 88 list;
#X msg 195 216 set;
#X obj 102 139 list split 1;
#X obj 117 167 list;
#X obj 102 192 t b a;
#X msg 134 216 add2 \$1;
#X obj 79 37 inlet;
#X obj 134 280 outlet;
#X obj 195 174 loadbang;
#X obj 79 111 t b l b;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 4 0;
#X connect 2 1 3 1;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 8 0 1 0;
#X connect 9 0 7 0;
#X connect 9 1 2 0;
#X connect 9 2 3 1;
#X connect 9 2 1 0;
#X restore 112 225 pd show-message;
#X obj 312 65 loadbang;
#X obj 312 88 symbol #00ccff;
#X connect 0 0 4 0;
#X connect 1 0 6 0;
#X connect 2 0 7 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 4 1 2 0;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X connect 11 0 19 0;
#X connect 15 0 3 0;
#X connect 16 0 0 0;
#X connect 17 0 0 1;
#X connect 18 0 0 2;
#X connect 19 0 12 0;
#X connect 20 0 21 0;
#X connect 21 0 7 0;
#X restore 467 122 pd html-example;
#X text 470 97 size;
#X obj 512 85 nbx 3 14 0 255 0 0 empty gui-html-red empty 0 -8 0 12
#fcc4c4 #000000 #000000 0 256;
#X obj 557 85 nbx 3 14 0 255 0 0 empty gui-html-green empty 0 -8 0
12 #c4fcc4 #000000 #000000 0 204;
#X obj 602 85 nbx 3 14 0 255 0 0 empty gui-html-blue empty 0 -8 0 12
#c4fcfc #000000 #000000 0 256;
#X text 513 96 red;
#X text 556 96 green;
#X text 602 96 blue;
#X obj 491 326 0;
#X obj 520 326 1;
#X obj 467 352 spigot 1;
#X obj 467 376 t l b b;
#X msg 467 178;
#X obj 467 493 list prepend;
#X obj 467 265 list prepend text;
#X msg 365 290 ping;
#X msg 415 290 close;
#X text 464 49 1) SELECT CLIENT (0 for broadcast) ->;
#X text 651 84 <- 2) AND PLAY WITH THESE...;
#X msg 548 466 broadcast;
#N canvas 368 177 840 700 socket-gui 0;
#X obj 370 70 r websockets-list;
#X obj 139 223 list;
#X obj 174 283 unpack f;
#X obj 140 250 list split 0;
#X obj 209 223 - 1;
#X obj 100 168 route 0;
#X obj 139 197 t b f;
#X obj 367 147 list length;
#X msg 367 476 range 0 \$1;
#X obj 100 650 outlet;
#X msg 100 471 broadcast;
#X msg 174 534 send \$1;
#N canvas 1381 547 298 342 show-message 0;
#X obj 79 88 list;
#X msg 182 216 set;
#X obj 98 139 list split 1;
#X obj 111 167 list;
#X obj 98 192 t b a;
#X msg 125 216 add2 \$1;
#X obj 79 37 inlet;
#X obj 125 280 outlet;
#X obj 182 174 loadbang;
#X obj 79 111 t b l b;
#X connect 0 0 9 0;
#X connect 1 0 7 0;
#X connect 2 0 4 0;
#X connect 2 1 3 1;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 5 0;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 8 0 1 0;
#X connect 9 0 7 0;
#X connect 9 1 2 0;
#X connect 9 2 3 1;
#X connect 9 2 1 0;
#X restore 100 602 pd show-message;
#X obj 100 100 cnv 15 150 17 empty gui-client-label broadcast 60 9
0 12 #fcfcfc #000000 0;
#X obj 100 100 nbx 4 16 0 1 0 0 s-gui-select-client r-gui-select-client
empty 0 -8 0 12 #fcfcfc #000000 #000000 0 256;
#X obj 239 601 s gui-client-label;
#X msg 239 534 label \$1;
#X obj 434 499 loadbang;
#X obj 367 601 s r-gui-select-client;
#X msg 393 534 vis_size 150 17 \, label_pos 60 9 \, label_font 0 12
\, color 0 22;
#X msg 393 556 range 0 0;
#X obj 413 264 i;
#X obj 386 288 <;
#X obj 386 237 t f b;
#X obj 386 344 i;
#X obj 531 226 list split 1;
#X obj 531 194 list;
#X obj 531 263 ==;
#X obj 571 400 list;
#X obj 531 292 select 1 0;
#X obj 531 153 t b f b;
#X obj 367 207 t f f f;
#X obj 663 235 + 1;
#X obj 630 234 i;
#X obj 654 203 1;
#X obj 521 341 i;
#X obj 623 169 t l b;
#X obj 723 275 print;
#X obj 721 244 i;
#X msg 782 210 3;
#X msg 704 170 bang;
#X msg 751 173 1;
#X obj 569 428 route bang;
#X obj 570 460 0;
#X obj 437 442 print TRUC;
#X obj 365 112 t l l l;
#X msg 102 41 set \$1;
#X obj 322 207 0;
#X obj 326 175 select 0;
#X obj 386 315 select 1;
#X obj 109 416 loadbang;
#X text 525 46 don't know how exactly... but it works :);
#X obj 239 507 symbol;
#X msg 239 384 set socket%c\$1;
#X obj 239 411 t b a;
#X msg 239 439 32;
#X obj 239 467 makefilename;
#X connect 0 0 45 0;
#X connect 1 0 3 0;
#X connect 2 0 11 0;
#X connect 2 0 53 0;
#X connect 2 0 24 1;
#X connect 3 1 2 0;
#X connect 4 0 3 1;
#X connect 5 0 10 0;
#X connect 5 1 6 0;
#X connect 6 0 1 0;
#X connect 6 1 4 0;
#X connect 7 0 31 0;
#X connect 8 0 18 0;
#X connect 10 0 12 0;
#X connect 10 0 52 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 14 0 5 0;
#X connect 16 0 15 0;
#X connect 17 0 19 0;
#X connect 17 0 20 0;
#X connect 19 0 15 0;
#X connect 20 0 18 0;
#X connect 21 0 22 1;
#X connect 22 0 49 0;
#X connect 23 0 21 1;
#X connect 23 0 22 0;
#X connect 23 1 21 0;
#X connect 24 0 30 0;
#X connect 25 0 27 0;
#X connect 25 1 28 1;
#X connect 26 0 25 0;
#X connect 27 0 29 0;
#X connect 28 0 42 0;
#X connect 29 0 35 0;
#X connect 29 1 28 0;
#X connect 30 0 26 0;
#X connect 30 1 27 1;
#X connect 30 2 34 0;
#X connect 31 0 8 0;
#X connect 31 1 23 0;
#X connect 31 2 48 0;
#X connect 32 0 33 1;
#X connect 33 0 32 0;
#X connect 33 0 35 1;
#X connect 34 0 33 0;
#X connect 35 0 46 0;
#X connect 36 0 25 0;
#X connect 36 1 33 0;
#X connect 38 0 37 0;
#X connect 39 0 38 1;
#X connect 40 0 38 0;
#X connect 41 0 38 0;
#X connect 42 0 43 0;
#X connect 42 0 10 0;
#X connect 42 1 36 0;
#X connect 43 0 46 0;
#X connect 45 0 1 1;
#X connect 45 1 7 0;
#X connect 45 2 26 1;
#X connect 46 0 14 0;
#X connect 47 0 46 0;
#X connect 48 0 47 0;
#X connect 48 0 10 0;
#X connect 49 0 24 0;
#X connect 50 0 10 0;
#X connect 52 0 16 0;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X connect 54 1 56 0;
#X connect 55 0 56 0;
#X connect 56 0 52 0;
#X coords 0 -1 1 1 150 16 1 100 100;
#X restore 708 50 pd socket-gui;
#X text 471 157 resulting pd message (see 'send-html' in demo html
code);
#X text 620 466 <- specify 'send <socket-number' or broadcast;
#X text 558 493 <- and put it before <type> <data>;
#X text 568 231 <- convert to ascii-codes for <DATA>;
#X text 601 264 <- put <TYPE> before <data>;
#X obj 467 85 nbx 3 14 0 1e+37 0 0 empty empty empty 0 -8 0 12 #fcfcfc
#000000 #000000 0 256;
#X obj 490 401 delay 30;
#X text 516 593 <- to [pd websocket-server] inlet;
#X text 553 400 (<- add more delay if needed \, when send-buffer struggles)
;
#X text 464 16 EXAMPLE : SEND HTML CONTENT (works with 'Flames' demo)
;
#X text 530 365 get new message to send every 30ms to prevent overflow
\; (especially when 'flames" broadcast its waveform array);
#X text 28 46 send to specified (web)socket;
#X msg 31 68 send <socket-number> <type> (<data in ascii-codes>);
#X msg 31 118 broadcast <type> (<data in ascii-codes>);
#X text 29 427 internal webserver message (optional) :;
#X text 28 262 other types 'ping' \, "pong' or 'close' (with or without
data) can be used as low-level websockets messages :;
#X text 28 97 broadcast : send to every connected websocket clients
;
#X obj 31 392 value bufferlength;
#X text 164 391 <- if = 0 \, 'send-buffer' is empty;
#X msg 32 449 webpage <data in ascii-codes>;
#X text 28 331 to avoid flooding the 'send-buffer' \, you can do like
this-->;
#X text 28 345 for spacing messages in time \, or alternatively \,
check the following value to get total size of remaining messages to
be sent currently present in the buffer (see 'flames' demo):;
#X text 27 301 (you can select target client(s) with EXAMPLE);
#N canvas 336 70 344 534 list2ascii 0;
#X obj 125 267 list fromsymbol;
#X obj 125 181 list split 1;
#X obj 125 123 until;
#X obj 125 152 list append;
#X obj 229 181 bang;
#X obj 125 94 t b a;
#X obj 102 65 t b a b;
#X obj 125 296 list prepend 32;
#X obj 125 350 t l l;
#X obj 125 323 list prepend;
#X obj 102 382 list;
#X obj 229 323 t b;
#X obj 102 412 list split 1;
#X obj 142 439 list trim;
#X obj 125 238 makefilename %d;
#X obj 125 210 route float;
#X obj 102 18 inlet;
#X obj 142 489 outlet;
#X connect 0 0 7 0;
#X connect 1 0 15 0;
#X connect 1 1 3 1;
#X connect 1 2 4 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 2 1;
#X connect 5 0 2 0;
#X connect 5 1 3 1;
#X connect 6 0 10 0;
#X connect 6 1 5 0;
#X connect 6 2 11 0;
#X connect 7 0 9 0;
#X connect 8 0 10 1;
#X connect 8 1 9 1;
#X connect 9 0 8 0;
#X connect 10 0 12 0;
#X connect 11 0 9 1;
#X connect 11 0 10 1;
#X connect 12 1 13 0;
#X connect 13 0 17 0;
#X connect 14 0 0 0;
#X connect 15 0 14 0;
#X connect 15 1 0 0;
#X connect 16 0 6 0;
#X restore 467 231 pd list2ascii;
#X text 26 16 SEND WEBSOCKET MESSAGES THROUGH [pd websocket-server]
INLET;
#X text 570 139 3) LOOK BELOW TO SEE HOW MESSAGES ARE SENT AS LISTS
:;
#X text 28 147 <type> : 'text' or 'binary' followed by message data
as an ascii-codes list (pd's [list fromsymbol] or any dedicated externals
can be used for that) \; these data types are handled differenty with
websocket's javascript (see demo html code);
#X text 29 219 note: special characters must be encoded as 'utf-8'
bytes (and can be converted to/from symbols with [list] object);
#X text 27 530 however \, this is neither required nor recommended
at all \, and you should use this patch for websockets communications
only \, with webpages hosted on any proper webserver;
#X text 28 470 this message can be used to load a single html webpage
(which doesn't rely on any external content \, like images and script
files) into the minimalistic and crude included http webserver (on
same port than websocket-server);
#X connect 3 0 15 0;
#X connect 5 0 3 1;
#X connect 6 0 3 2;
#X connect 7 0 3 3;
#X connect 11 0 13 1;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X connect 14 0 16 0;
#X connect 14 1 30 0;
#X connect 14 2 11 0;
#X connect 15 0 47 0;
#X connect 16 0 0 0;
#X connect 17 0 13 0;
#X connect 18 0 16 0;
#X connect 19 0 16 0;
#X connect 22 0 16 1;
#X connect 23 0 22 0;
#X connect 29 0 3 0;
#X connect 30 0 12 0;
#X connect 47 0 17 0;
#X restore 34 88 pd HOWTO-SEND;
#X text 20 133 100% vanilla ->;
#X obj 164 89 iemnet/tcpserver 9998;
#N canvas 73 219 971 527 socket 1;
#X obj 308 49 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 309 78 metro 50;
#X obj 309 137 change;
#X obj 312 190 list fromsymbol;
#X obj 312 218 list prepend broadcast text;
#X obj 351 283 outlet;
#X obj 309 108 value drum_volume;
#X obj 532 47 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 533 76 metro 50;
#X obj 533 135 change;
#X obj 536 188 list fromsymbol;
#X obj 536 216 list prepend broadcast text;
#X obj 533 106 value drone_master;
#X obj 63 323 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 64 352 metro 50;
#X obj 64 411 change;
#X obj 67 464 list fromsymbol;
#X obj 67 492 list prepend broadcast text;
#X obj 64 382 value bass_volume;
#X obj 755 43 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 756 72 metro 50;
#X obj 756 131 change;
#X obj 759 184 list fromsymbol;
#X obj 759 212 list prepend broadcast text;
#X obj 756 102 value app_volume;
#X obj 311 323 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 312 352 metro 50;
#X obj 312 411 change;
#X obj 315 464 list fromsymbol;
#X obj 315 492 list prepend broadcast text;
#X obj 312 382 value hover_volume;
#X obj 534 322 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 535 351 metro 50;
#X obj 535 410 change;
#X obj 538 463 list fromsymbol;
#X obj 538 491 list prepend broadcast text;
#X obj 535 381 value app_attack;
#X obj 751 323 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000
#000000 0 1;
#X obj 752 352 metro 50;
#X obj 752 411 change;
#X obj 755 464 list fromsymbol;
#X obj 755 492 list prepend broadcast text;
#X obj 752 382 value app_release;
#X obj 66 47 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000
0 1;
#X obj 67 76 metro 50;
#X obj 67 135 change;
#X obj 70 188 list fromsymbol;
#X obj 70 216 list prepend broadcast text;
#X obj 67 106 value bpm;
#X obj 66 160 makefilename bpm_%d;
#X obj 553 282 loadbang;
#X obj 532 160 makefilename droneMaster_%f;
#X obj 755 156 makefilename appVolume_%f;
#X obj 751 436 makefilename appRelease_%d;
#X obj 534 435 makefilename appAttack_%d;
#X obj 311 436 makefilename hoverVolume_%f;
#X obj 63 436 makefilename bassVolume_%d;
#X obj 308 162 makefilename drumVolume_%f;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 57 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 12 0;
#X connect 9 0 51 0;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 12 0 9 0;
#X connect 13 0 14 0;
#X connect 14 0 18 0;
#X connect 15 0 56 0;
#X connect 16 0 17 0;
#X connect 17 0 5 0;
#X connect 18 0 15 0;
#X connect 19 0 20 0;
#X connect 20 0 24 0;
#X connect 21 0 52 0;
#X connect 22 0 23 0;
#X connect 23 0 5 0;
#X connect 24 0 21 0;
#X connect 25 0 26 0;
#X connect 26 0 30 0;
#X connect 27 0 55 0;
#X connect 28 0 29 0;
#X connect 29 0 5 0;
#X connect 30 0 27 0;
#X connect 31 0 32 0;
#X connect 32 0 36 0;
#X connect 33 0 54 0;
#X connect 34 0 35 0;
#X connect 35 0 5 0;
#X connect 36 0 33 0;
#X connect 37 0 38 0;
#X connect 38 0 42 0;
#X connect 39 0 53 0;
#X connect 40 0 41 0;
#X connect 41 0 5 0;
#X connect 42 0 39 0;
#X connect 43 0 44 0;
#X connect 44 0 48 0;
#X connect 45 0 49 0;
#X connect 46 0 47 0;
#X connect 47 0 5 0;
#X connect 48 0 45 0;
#X connect 49 0 46 0;
#X connect 50 0 43 0;
#X connect 50 0 0 0;
#X connect 50 0 7 0;
#X connect 50 0 19 0;
#X connect 50 0 13 0;
#X connect 50 0 25 0;
#X connect 50 0 31 0;
#X connect 50 0 37 0;
#X connect 51 0 10 0;
#X connect 52 0 22 0;
#X connect 53 0 40 0;
#X connect 54 0 34 0;
#X connect 55 0 28 0;
#X connect 56 0 16 0;
#X connect 57 0 3 0;
#X restore 116 23 pd socket;
#X connect 7 0 11 0;
#X connect 7 1 2 0;
#X connect 7 2 1 0;
#X connect 7 3 3 0;
#X connect 7 4 8 0;
#X connect 9 1 7 0;
#X connect 11 0 7 1;
#X connect 11 1 7 2;
#X connect 11 2 7 3;
#X connect 11 4 7 4;
#X connect 12 0 7 0;
#X restore 921 446 pd web;
#X connect 6 0 33 0;
#X connect 16 0 17 0;
#X connect 17 0 13 0;
#X connect 21 0 22 0;
#X connect 22 0 14 0;
#X connect 24 0 42 0;
#X connect 33 0 4 0;
#X connect 34 0 0 0;
#X connect 38 0 35 0;
#X connect 39 0 35 0;
#X connect 42 0 2 0;
#X connect 42 0 23 0;
#X connect 45 0 46 0;
#X connect 45 0 98 0;
#X connect 46 0 44 0;
#X connect 48 0 44 0;
#X connect 49 0 44 0;
#X connect 52 0 55 0;
#X connect 52 0 64 0;
#X connect 52 0 65 0;
#X connect 53 0 57 0;
#X connect 53 0 58 0;
#X connect 53 0 61 0;
#X connect 53 0 63 0;
#X connect 53 0 66 0;
#X connect 53 0 67 0;
#X connect 53 0 69 0;
#X connect 53 0 75 0;
#X connect 53 0 77 0;
#X connect 53 0 79 0;
#X connect 53 0 80 0;
#X connect 53 0 83 0;
#X connect 53 0 85 0;
#X connect 53 0 87 0;
#X connect 53 0 91 0;
#X connect 53 0 90 0;
#X connect 53 0 94 0;
#X connect 53 0 96 0;
#X connect 54 0 52 0;
#X connect 54 1 53 0;
#X connect 55 0 56 0;
#X connect 55 0 59 0;
#X connect 55 0 62 0;
#X connect 55 0 68 0;
#X connect 55 0 70 0;
#X connect 55 0 74 0;
#X connect 55 0 76 0;
#X connect 55 0 78 0;
#X connect 55 0 81 0;
#X connect 55 0 82 0;
#X connect 55 0 84 0;
#X connect 55 0 86 0;
#X connect 55 0 88 0;
#X connect 55 0 89 0;
#X connect 55 0 93 0;
#X connect 55 0 95 0;
#X connect 56 0 3 0;
#X connect 57 0 56 1;
#X connect 58 0 59 1;
#X connect 59 0 8 0;
#X connect 59 0 10 0;
#X connect 60 0 1 0;
#X connect 60 0 9 0;
#X connect 60 0 12 0;
#X connect 60 0 36 0;
#X connect 60 0 47 0;
#X connect 61 0 62 1;
#X connect 62 0 15 0;
#X connect 63 0 64 1;
#X connect 64 0 13 0;
#X connect 65 0 14 0;
#X connect 66 0 65 1;
#X connect 67 0 68 1;
#X connect 68 0 41 0;
#X connect 69 0 70 1;
#X connect 70 0 72 0;
#X connect 71 0 4 0;
#X connect 72 0 71 0;
#X connect 73 0 0 0;
#X connect 74 0 26 0;
#X connect 75 0 74 1;
#X connect 76 0 18 0;
#X connect 77 0 76 1;
#X connect 78 0 19 0;
#X connect 79 0 78 1;
#X connect 80 0 81 1;
#X connect 81 0 12 0;
#X connect 81 0 9 0;
#X connect 81 0 36 0;
#X connect 82 0 34 0;
#X connect 83 0 82 1;
#X connect 84 0 73 0;
#X connect 85 0 84 1;
#X connect 86 0 92 0;
#X connect 87 0 86 1;
#X connect 88 0 38 0;
#X connect 89 0 39 0;
#X connect 90 0 89 1;
#X connect 91 0 88 1;
#X connect 92 0 0 0;
#X connect 93 0 50 0;
#X connect 94 0 93 1;
#X connect 95 0 97 1;
#X connect 95 0 98 0;
#X connect 96 0 95 1;
#X connect 97 0 51 0;
#X connect 97 0 99 0;
#X connect 98 0 97 0;
